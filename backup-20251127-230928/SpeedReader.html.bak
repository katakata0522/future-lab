<html lang="ja"><head>

<script class="injected-ffc2e83d85">
(function(){'use strict';function q(b){var c=0;return function(){return c<b.length?{done:!1,value:b[c++]}:{done:!0}}}function t(b){var c=typeof Symbol!="undefined"&&Symbol.iterator&&b[Symbol.iterator];if(c)return c.call(b);if(typeof b.length=="number")return{next:q(b)};throw Error(String(b)+" is not an iterable or ArrayLike");}var u=typeof Object.defineProperties=="function"?Object.defineProperty:function(b,c,g){if(b==Array.prototype||b==Object.prototype)return b;b[c]=g.value;return b};
function v(b){b=["object"==typeof globalThis&&globalThis,b,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var c=0;c<b.length;++c){var g=b[c];if(g&&g.Math==Math)return g}throw Error("Cannot find global object");}var w=v(this);function x(b,c){if(c)a:{var g=w;b=b.split(".");for(var h=0;h<b.length-1;h++){var l=b[h];if(!(l in g))break a;g=g[l]}b=b[b.length-1];h=g[b];c=c(h);c!=h&&c!=null&&u(g,b,{configurable:!0,writable:!0,value:c})}}
function y(){this.j=!1;this.g=null;this.u=void 0;this.h=1;this.v=this.l=0;this.i=null}function z(b){if(b.j)throw new TypeError("Generator is already running");b.j=!0}y.prototype.o=function(b){this.u=b};function A(b,c){b.i={I:c,J:!0};b.h=b.l||b.v}y.prototype.return=function(b){this.i={return:b};this.h=this.v};function B(b){this.g=new y;this.h=b}function E(b,c){z(b.g);var g=b.g.g;if(g)return F(b,"return"in g?g["return"]:function(h){return{value:h,done:!0}},c,b.g.return);b.g.return(c);return G(b)}
function F(b,c,g,h){try{var l=c.call(b.g.g,g);if(!(l instanceof Object))throw new TypeError("Iterator result "+l+" is not an object");if(!l.done)return b.g.j=!1,l;var m=l.value}catch(f){return b.g.g=null,A(b.g,f),G(b)}b.g.g=null;h.call(b.g,m);return G(b)}function G(b){for(;b.g.h;)try{var c=b.h(b.g);if(c)return b.g.j=!1,{value:c.value,done:!1}}catch(g){b.g.u=void 0,A(b.g,g)}b.g.j=!1;if(b.g.i){c=b.g.i;b.g.i=null;if(c.J)throw c.I;return{value:c.return,done:!0}}return{value:void 0,done:!0}}
function H(b){this.next=function(c){z(b.g);b.g.g?c=F(b,b.g.g.next,c,b.g.o):(b.g.o(c),c=G(b));return c};this.throw=function(c){z(b.g);b.g.g?c=F(b,b.g.g["throw"],c,b.g.o):(A(b.g,c),c=G(b));return c};this.return=function(c){return E(b,c)};this[Symbol.iterator]=function(){return this}}function I(b){function c(h){return b.next(h)}function g(h){return b.throw(h)}return new Promise(function(h,l){function m(f){f.done?h(f.value):Promise.resolve(f.value).then(c,g).then(m,l)}m(b.next())})}
x("Symbol",function(b){function c(m){if(this instanceof c)throw new TypeError("Symbol is not a constructor");return new g(h+(m||"")+"_"+l++,m)}function g(m,f){this.g=m;u(this,"description",{configurable:!0,writable:!0,value:f})}if(b)return b;g.prototype.toString=function(){return this.g};var h="jscomp_symbol_"+(Math.random()*1E9>>>0)+"_",l=0;return c});
x("Symbol.iterator",function(b){if(b)return b;b=Symbol("Symbol.iterator");u(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return J(q(this))}});return b});function J(b){b={next:b};b[Symbol.iterator]=function(){return this};return b}
x("Promise",function(b){function c(f){this.h=0;this.i=void 0;this.g=[];this.u=!1;var a=this.j();try{f(a.resolve,a.reject)}catch(d){a.reject(d)}}function g(){this.g=null}function h(f){return f instanceof c?f:new c(function(a){a(f)})}if(b)return b;g.prototype.h=function(f){if(this.g==null){this.g=[];var a=this;this.i(function(){a.l()})}this.g.push(f)};var l=w.setTimeout;g.prototype.i=function(f){l(f,0)};g.prototype.l=function(){for(;this.g&&this.g.length;){var f=this.g;this.g=[];for(var a=0;a<f.length;++a){var d=
f[a];f[a]=null;try{d()}catch(e){this.j(e)}}}this.g=null};g.prototype.j=function(f){this.i(function(){throw f;})};c.prototype.j=function(){function f(e){return function(k){d||(d=!0,e.call(a,k))}}var a=this,d=!1;return{resolve:f(this.D),reject:f(this.l)}};c.prototype.D=function(f){if(f===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(f instanceof c)this.G(f);else{a:switch(typeof f){case "object":var a=f!=null;break a;case "function":a=!0;break a;default:a=!1}a?this.C(f):this.o(f)}};
c.prototype.C=function(f){var a=void 0;try{a=f.then}catch(d){this.l(d);return}typeof a=="function"?this.H(a,f):this.o(f)};c.prototype.l=function(f){this.v(2,f)};c.prototype.o=function(f){this.v(1,f)};c.prototype.v=function(f,a){if(this.h!=0)throw Error("Cannot settle("+f+", "+a+"): Promise already settled in state"+this.h);this.h=f;this.i=a;this.h===2&&this.F();this.K()};c.prototype.F=function(){var f=this;l(function(){if(f.B()){var a=w.console;typeof a!=="undefined"&&a.error(f.i)}},1)};c.prototype.B=
function(){if(this.u)return!1;var f=w.CustomEvent,a=w.Event,d=w.dispatchEvent;if(typeof d==="undefined")return!0;typeof f==="function"?f=new f("unhandledrejection",{cancelable:!0}):typeof a==="function"?f=new a("unhandledrejection",{cancelable:!0}):(f=w.document.createEvent("CustomEvent"),f.initCustomEvent("unhandledrejection",!1,!0,f));f.promise=this;f.reason=this.i;return d(f)};c.prototype.K=function(){if(this.g!=null){for(var f=0;f<this.g.length;++f)m.h(this.g[f]);this.g=null}};var m=new g;c.prototype.G=
function(f){var a=this.j();f.A(a.resolve,a.reject)};c.prototype.H=function(f,a){var d=this.j();try{f.call(a,d.resolve,d.reject)}catch(e){d.reject(e)}};c.prototype.then=function(f,a){function d(n,r){return typeof n=="function"?function(C){try{e(n(C))}catch(D){k(D)}}:r}var e,k,p=new c(function(n,r){e=n;k=r});this.A(d(f,e),d(a,k));return p};c.prototype.catch=function(f){return this.then(void 0,f)};c.prototype.A=function(f,a){function d(){switch(e.h){case 1:f(e.i);break;case 2:a(e.i);break;default:throw Error("Unexpected state: "+
e.h);}}var e=this;this.g==null?m.h(d):this.g.push(d);this.u=!0};c.resolve=h;c.reject=function(f){return new c(function(a,d){d(f)})};c.race=function(f){return new c(function(a,d){for(var e=t(f),k=e.next();!k.done;k=e.next())h(k.value).A(a,d)})};c.all=function(f){var a=t(f),d=a.next();return d.done?h([]):new c(function(e,k){function p(C){return function(D){n[C]=D;r--;r==0&&e(n)}}var n=[],r=0;do n.push(void 0),r++,h(d.value).A(p(n.length-1),k),d=a.next();while(!d.done)})};return c});
function K(b,c){return Object.prototype.hasOwnProperty.call(b,c)}x("Object.is",function(b){return b?b:function(c,g){return c===g?c!==0||1/c===1/g:c!==c&&g!==g}});x("Array.prototype.includes",function(b){return b?b:function(c,g){var h=this;h instanceof String&&(h=String(h));var l=h.length;g=g||0;for(g<0&&(g=Math.max(g+l,0));g<l;g++){var m=h[g];if(m===c||Object.is(m,c))return!0}return!1}});
x("String.prototype.includes",function(b){return b?b:function(c,g){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(c,g||0)!==-1}});
x("WeakMap",function(b){function c(d){this.g=(a+=Math.random()+1).toString();if(d){d=t(d);for(var e;!(e=d.next()).done;)e=e.value,this.set(e[0],e[1])}}function g(){}function h(d){var e=typeof d;return e==="object"&&d!==null||e==="function"}function l(d){if(!K(d,f)){var e=new g;u(d,f,{value:e})}}function m(d){var e=Object[d];e&&(Object[d]=function(k){if(k instanceof g)return k;Object.isExtensible(k)&&l(k);return e(k)})}if(function(){if(!b||!Object.seal)return!1;try{var d=Object.seal({}),e=Object.seal({}),
k=new b([[d,2],[e,3]]);if(k.get(d)!=2||k.get(e)!=3)return!1;k.delete(d);k.set(e,4);return!k.has(d)&&k.get(e)==4}catch(p){return!1}}())return b;var f="$jscomp_hidden_"+Math.random();m("freeze");m("preventExtensions");m("seal");var a=0;c.prototype.set=function(d,e){if(!h(d))throw Error("Invalid WeakMap key");l(d);if(!K(d,f))throw Error("WeakMap key fail: "+d);d[f][this.g]=e;return this};c.prototype.get=function(d){return h(d)&&K(d,f)?d[f][this.g]:void 0};c.prototype.has=function(d){return h(d)&&K(d,
f)&&K(d[f],this.g)};c.prototype.delete=function(d){return h(d)&&K(d,f)&&K(d[f],this.g)?delete d[f][this.g]:!1};return c});
x("Map",function(b){function c(){var a={};return a.m=a.next=a.head=a}function g(a,d){var e=a[1];return J(function(){if(e){for(;e.head!=a[1];)e=e.m;for(;e.next!=e.head;)return e=e.next,{done:!1,value:d(e)};e=null}return{done:!0,value:void 0}})}function h(a,d){var e=d&&typeof d;e=="object"||e=="function"?m.has(d)?e=m.get(d):(e=""+ ++f,m.set(d,e)):e="p_"+d;var k=a[0][e];if(k&&K(a[0],e))for(a=0;a<k.length;a++){var p=k[a];if(d!==d&&p.key!==p.key||d===p.key)return{id:e,list:k,index:a,entry:p}}return{id:e,
list:k,index:-1,entry:void 0}}function l(a){this[0]={};this[1]=c();this.size=0;if(a){a=t(a);for(var d;!(d=a.next()).done;)d=d.value,this.set(d[0],d[1])}}if(function(){if(!b||typeof b!="function"||!b.prototype.entries||typeof Object.seal!="function")return!1;try{var a=Object.seal({x:4}),d=new b(t([[a,"s"]]));if(d.get(a)!="s"||d.size!=1||d.get({x:4})||d.set({x:4},"t")!=d||d.size!=2)return!1;var e=d.entries(),k=e.next();if(k.done||k.value[0]!=a||k.value[1]!="s")return!1;k=e.next();return k.done||k.value[0].x!=
4||k.value[1]!="t"||!e.next().done?!1:!0}catch(p){return!1}}())return b;var m=new WeakMap;l.prototype.set=function(a,d){a=a===0?0:a;var e=h(this,a);e.list||(e.list=this[0][e.id]=[]);e.entry?e.entry.value=d:(e.entry={next:this[1],m:this[1].m,head:this[1],key:a,value:d},e.list.push(e.entry),this[1].m.next=e.entry,this[1].m=e.entry,this.size++);return this};l.prototype.delete=function(a){a=h(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this[0][a.id],a.entry.m.next=a.entry.next,
a.entry.next.m=a.entry.m,a.entry.head=null,this.size--,!0):!1};l.prototype.clear=function(){this[0]={};this[1]=this[1].m=c();this.size=0};l.prototype.has=function(a){return!!h(this,a).entry};l.prototype.get=function(a){return(a=h(this,a).entry)&&a.value};l.prototype.entries=function(){return g(this,function(a){return[a.key,a.value]})};l.prototype.keys=function(){return g(this,function(a){return a.key})};l.prototype.values=function(){return g(this,function(a){return a.value})};l.prototype.forEach=
function(a,d){for(var e=this.entries(),k;!(k=e.next()).done;)k=k.value,a.call(d,k[1],k[0],this)};l.prototype[Symbol.iterator]=l.prototype.entries;var f=0;return l});
x("Set",function(b){function c(g){this.g=new Map;if(g){g=t(g);for(var h;!(h=g.next()).done;)this.add(h.value)}this.size=this.g.size}if(function(){if(!b||typeof b!="function"||!b.prototype.entries||typeof Object.seal!="function")return!1;try{var g=Object.seal({x:4}),h=new b(t([g]));if(!h.has(g)||h.size!=1||h.add(g)!=h||h.size!=1||h.add({x:4})!=h||h.size!=2)return!1;var l=h.entries(),m=l.next();if(m.done||m.value[0]!=g||m.value[1]!=g)return!1;m=l.next();return m.done||m.value[0]==g||m.value[0].x!=4||
m.value[1]!=m.value[0]?!1:l.next().done}catch(f){return!1}}())return b;c.prototype.add=function(g){g=g===0?0:g;this.g.set(g,g);this.size=this.g.size;return this};c.prototype.delete=function(g){g=this.g.delete(g);this.size=this.g.size;return g};c.prototype.clear=function(){this.g.clear();this.size=0};c.prototype.has=function(g){return this.g.has(g)};c.prototype.entries=function(){return this.g.entries()};c.prototype.values=function(){return this.g.values()};c.prototype.keys=c.prototype.values;c.prototype[Symbol.iterator]=
c.prototype.values;c.prototype.forEach=function(g,h){var l=this;this.g.forEach(function(m){return g.call(h,m,m,l)})};return c});(function(){function b(){return m?Promise.resolve(m):f?f:f=fetch("https://www.gstatic.com/bard-maui/resources/material-design-icon-names.804824289.json").then(function(a){if(!a.ok)throw Error("HTTP error! status: "+a.status+" fetching https://www.gstatic.com/bard-maui/resources/material-design-icon-names.804824289.json");return a.json()}).then(function(a){if(!Array.isArray(a))throw new TypeError("Fetched icon names from https://www.gstatic.com/bard-maui/resources/material-design-icon-names.804824289.json is not an array.");
return m=a}).catch(function(a){console.error("IconChecker: Failed to load valid icon names from https://www.gstatic.com/bard-maui/resources/material-design-icon-names.804824289.json.",a);f=null;throw a;})}function c(a){var d,e,k,p;return I(new H(new B(function(n){switch(n.h){case 1:d=(a.textContent||"").trim();if(!d||a.classList.contains("js-replaced-missing-icon")&&d==="radio_button_unchecked")return n.return();e=window.getComputedStyle(a);if(e.display==="none"||e.visibility==="hidden")return n.return();
n.l=2;var r=b();n.h=4;return{value:r};case 4:k=n.u;n.h=3;n.l=0;break;case 2:return n.l=0,n.i=null,console.warn('IconChecker: Skipping check for icon "'+d+'" as valid names could not be loaded.'),n.return();case 3:(p=k.includes(d))?a.classList.contains("js-replaced-missing-icon")&&a.classList.remove("js-replaced-missing-icon"):d==="radio_button_unchecked"&&a.classList.contains("js-replaced-missing-icon")||(a.textContent="radio_button_unchecked",a.classList.add("js-replaced-missing-icon")),n.h=0}})))}
function g(a){a=a===void 0?document.body:a;a.querySelectorAll(l).forEach(function(d){c(d)})}function h(){b().catch(function(){});document.fonts.ready.then(function(){requestAnimationFrame(function(){g(document.body);(new MutationObserver(function(a){var d=new Set;a=t(a);for(var e=a.next();!e.done;e=a.next())if(e=e.value,e.type==="childList")e.addedNodes.forEach(function(p){p.nodeType===Node.ELEMENT_NODE&&(p.matches(l)&&d.add(p),p.querySelectorAll(l).forEach(function(n){d.add(n)}))});else if(e.type===
"attributes"&&e.attributeName==="class"){var k=e.target;e.target.nodeType===Node.ELEMENT_NODE&&k.matches(l)&&d.add(k)}else e.type==="characterData"&&e.target.parentNode&&(e=e.target.parentNode,e.nodeType===Node.ELEMENT_NODE&&e.matches(l)&&d.add(e));d.size>0&&setTimeout(function(){d.forEach(function(p){c(p)})},500)})).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"],characterData:!0})})}).catch(function(a){console.error("IconChecker: Font loading error. Scanning icons anyway.",
a);requestAnimationFrame(function(){g(document.body)})})}var l=["material-icons","material-symbols-outlined","material-symbols-rounded","material-symbols-sharp"].map(function(a){return"."+a}).join(","),m=null,f=null;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",function(){h()}):h()})();}).call(this);

</script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kawaii Speed Reader - Full School Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;500;700;800&amp;family=Zen+Maru+Gothic:wght@500;700&amp;family=Shippori+Mincho:wght@500;700&amp;family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,1,0" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"M PLUS Rounded 1c"', 'sans-serif'],
                        mono: ['"Zen Maru Gothic"', 'sans-serif'],
                        serif: ['"Shippori Mincho"', 'serif'],
                    },
                    colors: {
                        reader: {
                            bg: '#f0fdfa',
                            primary: '#0d9488',
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.3s ease-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { background-color: #f0fdfa; color: #334155; }
        
        .glass-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 8px 32px rgba(13, 148, 136, 0.1);
        }

        .orp-char { color: #f43f5e; font-weight: 800; }

        /* Custom Scrollbar for tabs */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* Range Slider Styling */
        input[type=range] { -webkit-appearance: none; background: transparent; }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none; height: 28px; width: 28px; border-radius: 50%;
            background: #0d9488; margin-top: -12px; box-shadow: 0 2px 6px rgba(0,0,0,0.2);
            cursor: pointer; transition: transform 0.1s; border: 2px solid white;
        }
        input[type=range]::-webkit-slider-thumb:hover { transform: scale(1.1); }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%; height: 6px; background: #ccfbf1; border-radius: 3px;
        }

        .tab-active {
            background-color: #0d9488; color: white;
            box-shadow: 0 4px 12px rgba(13, 148, 136, 0.3);
        }
        
        .cat-tab-active {
            background-color: #e0f2fe; color: #0284c7; border-color: #7dd3fc;
        }

        .lib-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
            border-color: #2dd4bf;
        }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:"M PLUS Rounded 1c", sans-serif;font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:"Zen Maru Gothic", sans-serif;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.pointer-events-none{pointer-events:none}.absolute{position:absolute}.relative{position:relative}.inset-0{inset:0px}.bottom-0{bottom:0px}.left-0{left:0px}.left-1\/2{left:50%}.left-4{left:1rem}.right-0{right:0px}.right-4{right:1rem}.top-0{top:0px}.top-1\/2{top:50%}.top-4{top:1rem}.z-10{z-index:10}.m-auto{margin:auto}.-mr-2{margin-right:-0.5rem}.-mt-2{margin-top:-0.5rem}.mb-1{margin-bottom:0.25rem}.mb-2{margin-bottom:0.5rem}.mb-3{margin-bottom:0.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mt-0\.5{margin-top:0.125rem}.mt-3{margin-top:0.75rem}.mt-8{margin-top:2rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.aspect-\[16\/9\]{aspect-ratio:16/9}.h-12{height:3rem}.h-3{height:0.75rem}.h-48{height:12rem}.h-full{height:100%}.h-px{height:1px}.max-h-\[60vh\]{max-height:60vh}.min-h-screen{min-height:100vh}.w-12{width:3rem}.w-full{width:100%}.w-px{width:1px}.max-w-4xl{max-width:56rem}.max-w-lg{max-width:32rem}.shrink-0{flex-shrink:0}.-translate-x-1\/2{--tw-translate-x:-50%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\/2{--tw-translate-y:-50%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-3{--tw-rotate:3deg;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}.animate-fade-in{animation:fadeIn 0.3s ease-out}@keyframes slideUp{0%{opacity:0;transform:translateY(10px)}100%{opacity:1;transform:translateY(0)}}.animate-slide-up{animation:slideUp 0.3s ease-out}.select-none{-webkit-user-select:none;user-select:none}.resize-none{resize:none}.grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.flex-col{flex-direction:column}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:0.25rem}.gap-2{gap:0.5rem}.gap-3{gap:0.75rem}.gap-4{gap:1rem}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.space-y-5 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.25rem * var(--tw-space-y-reverse))}.space-y-6 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.space-y-8 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(2rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(2rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.whitespace-nowrap{white-space:nowrap}.rounded-2xl{border-radius:1rem}.rounded-3xl{border-radius:1.5rem}.rounded-\[2rem\]{border-radius:2rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-xl{border-radius:0.75rem}.border{border-width:1px}.border-2{border-width:2px}.border-4{border-width:4px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-pink-200{--tw-border-opacity:1;border-color:rgb(251 207 232 / var(--tw-border-opacity, 1))}.border-slate-100{--tw-border-opacity:1;border-color:rgb(241 245 249 / var(--tw-border-opacity, 1))}.border-slate-200{--tw-border-opacity:1;border-color:rgb(226 232 240 / var(--tw-border-opacity, 1))}.border-slate-700{--tw-border-opacity:1;border-color:rgb(51 65 85 / var(--tw-border-opacity, 1))}.border-teal-100{--tw-border-opacity:1;border-color:rgb(204 251 241 / var(--tw-border-opacity, 1))}.border-teal-500\/50{border-color:rgb(20 184 166 / 0.5)}.border-teal-600{--tw-border-opacity:1;border-color:rgb(13 148 136 / var(--tw-border-opacity, 1))}.border-transparent{border-color:transparent}.border-white{--tw-border-opacity:1;border-color:rgb(255 255 255 / var(--tw-border-opacity, 1))}.border-orange-200{--tw-border-opacity:1;border-color:rgb(254 215 170 / var(--tw-border-opacity, 1))}.border-teal-200{--tw-border-opacity:1;border-color:rgb(153 246 228 / var(--tw-border-opacity, 1))}.border-indigo-200{--tw-border-opacity:1;border-color:rgb(199 210 254 / var(--tw-border-opacity, 1))}.border-slate-600{--tw-border-opacity:1;border-color:rgb(71 85 105 / var(--tw-border-opacity, 1))}.bg-indigo-100{--tw-bg-opacity:1;background-color:rgb(224 231 255 / var(--tw-bg-opacity, 1))}.bg-orange-100{--tw-bg-opacity:1;background-color:rgb(255 237 213 / var(--tw-bg-opacity, 1))}.bg-pink-100{--tw-bg-opacity:1;background-color:rgb(252 231 243 / var(--tw-bg-opacity, 1))}.bg-pink-50{--tw-bg-opacity:1;background-color:rgb(253 242 248 / var(--tw-bg-opacity, 1))}.bg-slate-50{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}.bg-slate-800{--tw-bg-opacity:1;background-color:rgb(30 41 59 / var(--tw-bg-opacity, 1))}.bg-slate-800\/90{background-color:rgb(30 41 59 / 0.9)}.bg-slate-900{--tw-bg-opacity:1;background-color:rgb(15 23 42 / var(--tw-bg-opacity, 1))}.bg-teal-100{--tw-bg-opacity:1;background-color:rgb(204 251 241 / var(--tw-bg-opacity, 1))}.bg-teal-50{--tw-bg-opacity:1;background-color:rgb(240 253 250 / var(--tw-bg-opacity, 1))}.bg-teal-500{--tw-bg-opacity:1;background-color:rgb(20 184 166 / var(--tw-bg-opacity, 1))}.bg-teal-600{--tw-bg-opacity:1;background-color:rgb(13 148 136 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-orange-50{--tw-bg-opacity:1;background-color:rgb(255 247 237 / var(--tw-bg-opacity, 1))}.bg-indigo-50{--tw-bg-opacity:1;background-color:rgb(238 242 255 / var(--tw-bg-opacity, 1))}.bg-slate-700{--tw-bg-opacity:1;background-color:rgb(51 65 85 / var(--tw-bg-opacity, 1))}.p-0{padding:0px}.p-2{padding:0.5rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.p-6{padding:1.5rem}.px-1{padding-left:0.25rem;padding-right:0.25rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-1\.5{padding-top:0.375rem;padding-bottom:0.375rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.pb-2{padding-bottom:0.5rem}.pr-2{padding-right:0.5rem}.pt-4{padding-top:1rem}.text-left{text-align:left}.text-center{text-align:center}.font-mono{font-family:"Zen Maru Gothic", sans-serif}.font-serif{font-family:"Shippori Mincho", serif}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-\[10px\]{font-size:10px}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:0.75rem;line-height:1rem}.font-black{font-weight:900}.font-bold{font-weight:700}.font-extrabold{font-weight:800}.font-medium{font-weight:500}.tabular-nums{--tw-numeric-spacing:tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-normal{line-height:1.5}.leading-relaxed{line-height:1.625}.leading-tight{line-height:1.25}.tracking-tight{letter-spacing:-0.025em}.text-indigo-700{--tw-text-opacity:1;color:rgb(67 56 202 / var(--tw-text-opacity, 1))}.text-orange-700{--tw-text-opacity:1;color:rgb(194 65 12 / var(--tw-text-opacity, 1))}.text-pink-600{--tw-text-opacity:1;color:rgb(219 39 119 / var(--tw-text-opacity, 1))}.text-pink-700{--tw-text-opacity:1;color:rgb(190 24 93 / var(--tw-text-opacity, 1))}.text-reader-primary{--tw-text-opacity:1;color:rgb(13 148 136 / var(--tw-text-opacity, 1))}.text-slate-100{--tw-text-opacity:1;color:rgb(241 245 249 / var(--tw-text-opacity, 1))}.text-slate-300{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity, 1))}.text-slate-400{--tw-text-opacity:1;color:rgb(148 163 184 / var(--tw-text-opacity, 1))}.text-slate-500{--tw-text-opacity:1;color:rgb(100 116 139 / var(--tw-text-opacity, 1))}.text-slate-600{--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity, 1))}.text-slate-700{--tw-text-opacity:1;color:rgb(51 65 85 / var(--tw-text-opacity, 1))}.text-slate-800{--tw-text-opacity:1;color:rgb(30 41 59 / var(--tw-text-opacity, 1))}.text-teal-300{--tw-text-opacity:1;color:rgb(94 234 212 / var(--tw-text-opacity, 1))}.text-teal-500{--tw-text-opacity:1;color:rgb(20 184 166 / var(--tw-text-opacity, 1))}.text-teal-600{--tw-text-opacity:1;color:rgb(13 148 136 / var(--tw-text-opacity, 1))}.text-teal-700{--tw-text-opacity:1;color:rgb(15 118 110 / var(--tw-text-opacity, 1))}.text-teal-800{--tw-text-opacity:1;color:rgb(17 94 89 / var(--tw-text-opacity, 1))}.text-teal-900{--tw-text-opacity:1;color:rgb(19 78 74 / var(--tw-text-opacity, 1))}.text-teal-900\/80{color:rgb(19 78 74 / 0.8)}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.opacity-0{opacity:0}.opacity-20{opacity:0.2}.opacity-70{opacity:0.7}.shadow-2xl{--tw-shadow:0 25px 50px -12px rgb(0 0 0 / 0.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-\[0_0_15px_\#14b8a6\]{--tw-shadow:0 0 15px #14b8a6;--tw-shadow-colored:0 0 15px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-teal-200\/50{--tw-shadow-color:rgb(153 246 228 / 0.5);--tw-shadow:var(--tw-shadow-colored)}.outline-none{outline:2px solid transparent;outline-offset:2px}.ring-2{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.ring-8{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(8px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.ring-pink-300{--tw-ring-opacity:1;--tw-ring-color:rgb(249 168 212 / var(--tw-ring-opacity, 1))}.ring-teal-100\/50{--tw-ring-color:rgb(204 251 241 / 0.5)}.ring-orange-300{--tw-ring-opacity:1;--tw-ring-color:rgb(253 186 116 / var(--tw-ring-opacity, 1))}.ring-teal-300{--tw-ring-opacity:1;--tw-ring-color:rgb(94 234 212 / var(--tw-ring-opacity, 1))}.ring-indigo-300{--tw-ring-opacity:1;--tw-ring-color:rgb(165 180 252 / var(--tw-ring-opacity, 1))}.ring-offset-1{--tw-ring-offset-width:1px}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-100{transition-duration:100ms}.duration-500{transition-duration:500ms}.backdrop\:bg-slate-900\/60::backdrop{background-color:rgb(15 23 42 / 0.6)}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}.open\:animate-fade-in[open]{animation:fadeIn 0.3s ease-out}.hover\:rotate-6:hover{--tw-rotate:6deg;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:border-indigo-200:hover{--tw-border-opacity:1;border-color:rgb(199 210 254 / var(--tw-border-opacity, 1))}.hover\:border-orange-200:hover{--tw-border-opacity:1;border-color:rgb(254 215 170 / var(--tw-border-opacity, 1))}.hover\:border-pink-200:hover{--tw-border-opacity:1;border-color:rgb(251 207 232 / var(--tw-border-opacity, 1))}.hover\:border-teal-100:hover{--tw-border-opacity:1;border-color:rgb(204 251 241 / var(--tw-border-opacity, 1))}.hover\:border-teal-200:hover{--tw-border-opacity:1;border-color:rgb(153 246 228 / var(--tw-border-opacity, 1))}.hover\:border-teal-300:hover{--tw-border-opacity:1;border-color:rgb(94 234 212 / var(--tw-border-opacity, 1))}.hover\:border-teal-400:hover{--tw-border-opacity:1;border-color:rgb(45 212 191 / var(--tw-border-opacity, 1))}.hover\:bg-slate-50:hover{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}.hover\:bg-teal-50:hover{--tw-bg-opacity:1;background-color:rgb(240 253 250 / var(--tw-bg-opacity, 1))}.hover\:bg-teal-500:hover{--tw-bg-opacity:1;background-color:rgb(20 184 166 / var(--tw-bg-opacity, 1))}.hover\:text-red-400:hover{--tw-text-opacity:1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.hover\:text-slate-600:hover{--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity, 1))}.hover\:text-teal-600:hover{--tw-text-opacity:1;color:rgb(13 148 136 / var(--tw-text-opacity, 1))}.hover\:text-teal-700:hover{--tw-text-opacity:1;color:rgb(15 118 110 / var(--tw-text-opacity, 1))}.hover\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.focus\:border-teal-400:focus{--tw-border-opacity:1;border-color:rgb(45 212 191 / var(--tw-border-opacity, 1))}.active\:scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\:-rotate-180{--tw-rotate:-180deg;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\:opacity-10{opacity:0.1}@media (min-width: 640px){.sm\:inline{display:inline}}@media (min-width: 768px){.md\:left-6{left:1.5rem}.md\:right-6{right:1.5rem}.md\:top-6{top:1.5rem}.md\:aspect-\[21\/9\]{aspect-ratio:21/9}.md\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.md\:gap-4{gap:1rem}.md\:p-6{padding:1.5rem}.md\:p-8{padding:2rem}.md\:px-6{padding-left:1.5rem;padding-right:1.5rem}.md\:py-5{padding-top:1.25rem;padding-bottom:1.25rem}.md\:py-8{padding-top:2rem;padding-bottom:2rem}.md\:text-2xl{font-size:1.5rem;line-height:2rem}.md\:text-6xl{font-size:3.75rem;line-height:1}.md\:text-base{font-size:1rem;line-height:1.5rem}.md\:text-lg{font-size:1.125rem;line-height:1.75rem}.md\:text-xs{font-size:0.75rem;line-height:1rem}}@media (min-width: 1024px){.lg\:text-7xl{font-size:4.5rem;line-height:1}}</style></head>
<body class="min-h-screen flex flex-col items-center py-4 px-3 md:py-8 md:px-6">

    <!-- Header -->
    <header class="w-full max-w-4xl flex justify-between items-center mb-6">
        <div class="flex items-center gap-3">
            <div class="w-12 h-12 bg-white rounded-2xl flex items-center justify-center text-reader-primary shadow-soft rotate-3 transition-transform hover:rotate-6">
                <span class="material-symbols-rounded text-3xl">menu_book</span>
            </div>
            <div>
                <h1 class="text-xl md:text-2xl font-extrabold tracking-tight text-teal-900 leading-tight">Speed Reader</h1>
                <p class="text-[10px] md:text-xs text-teal-600 font-bold opacity-70">Áû¨Ë™≠„Éà„É¨„Éº„Éã„É≥„Ç∞</p>
            </div>
        </div>
        <div class="flex gap-2">
            <!-- Parent Button -->
            <button onclick="document.getElementById('parents-modal').showModal()" class="bg-white hover:bg-teal-50 text-slate-600 hover:text-teal-700 px-3 py-2 rounded-xl text-xs font-bold shadow-sm transition-all flex items-center gap-1 border border-transparent hover:border-teal-100">
                <span class="material-symbols-rounded text-lg text-teal-500">sentiment_satisfied</span>
                <span class="hidden sm:inline">‰øùË≠∑ËÄÖ„ÅÆÊñπ„Å∏</span>
            </button>
            <!-- Download Button -->
            <button onclick="downloadApp()" class="bg-teal-600 hover:bg-teal-500 text-white px-3 py-2 rounded-xl text-xs font-bold shadow-md hover:shadow-lg transition-all flex items-center gap-1">
                <span class="material-symbols-rounded text-lg">download</span>
                <span class="hidden sm:inline">‰øùÂ≠ò</span>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="w-full max-w-4xl space-y-5">
        
        <!-- 1. Reader Display -->
        <div class="relative w-full aspect-[16/9] md:aspect-[21/9] bg-slate-900 rounded-[2rem] shadow-2xl flex flex-col items-center justify-center overflow-hidden ring-8 ring-teal-100/50 group">
            
            <!-- Focus Guides -->
            <div class="absolute inset-0 opacity-20 pointer-events-none group-hover:opacity-10 transition-opacity">
                <div class="absolute top-0 bottom-0 left-1/2 w-px bg-teal-500 transform -translate-x-1/2"></div>
                <div class="absolute left-0 right-0 top-1/2 h-px bg-teal-500 transform -translate-y-1/2"></div>
            </div>

            <!-- The Text (Big & Responsive) -->
            <div id="reader-display" class="relative z-10 text-4xl md:text-6xl lg:text-7xl font-serif font-bold text-slate-100 px-8 text-center leading-normal transition-opacity duration-100 select-none">‰∏Ä‰∫∫„Åº<span class="orp-char">„Å£</span>„Å°„ÅÆ</div>

            <!-- Info Badges (Top Left) -->
            <div class="absolute top-4 left-4 md:top-6 md:left-6 flex gap-2">
                <span id="wpm-badge" class="px-3 py-1.5 rounded-lg bg-slate-800 text-teal-300 text-sm md:text-lg font-bold border border-slate-700 font-mono shadow-lg">WPM: 250</span>
                <span id="chunk-badge" class="px-3 py-1.5 rounded-lg bg-slate-800 text-slate-300 text-sm md:text-lg font-bold border border-slate-700 font-mono shadow-lg">2ÂçòË™û</span>
            </div>

            <!-- Source Title Badge (Top Right) -->
            <div id="source-badge" class="absolute top-4 right-4 md:top-6 md:right-6 px-4 py-1.5 rounded-lg bg-slate-800/90 text-white text-sm md:text-base font-bold border border-slate-700 font-serif transition-opacity duration-500 shadow-lg">„Åî„ÇìÁãê</div>

            <!-- Progress Bar -->
            <div class="absolute bottom-0 left-0 w-full h-3 bg-slate-800">
                <div id="progress-bar" class="h-full bg-teal-500 shadow-[0_0_15px_#14b8a6] transition-all duration-100" style="width: 78.5714%;"></div>
            </div>
        </div>

        <!-- 2. Main Controls -->
        <div class="grid grid-cols-3 gap-3 md:gap-4 px-1">
            <button onclick="resetReader()" class="bg-white text-slate-500 hover:text-teal-600 hover:bg-teal-50 border-2 border-white hover:border-teal-100 rounded-2xl py-3 md:py-5 font-bold shadow-sm flex items-center justify-center gap-2 transition-all group">
                <span class="material-symbols-rounded text-2xl group-hover:-rotate-180 transition-transform duration-500">restart_alt</span>
                <span class="hidden sm:inline text-lg">„ÅØ„Åò„ÇÅ„Åã„Çâ</span>
            </button>
            <button id="main-play-btn" onclick="toggleReader()" class="text-white rounded-2xl py-3 md:py-5 font-black shadow-lg shadow-teal-200/50 flex items-center justify-center gap-2 transform active:scale-95 transition-all text-xl md:text-2xl border-4 hover:border-teal-400 bg-teal-600 hover:bg-teal-500 border-teal-500/50"><span class="material-symbols-rounded text-4xl">play_arrow</span> START</button>
            <button onclick="stepBack()" class="bg-white text-slate-500 hover:text-teal-600 hover:bg-teal-50 border-2 border-white hover:border-teal-100 rounded-2xl py-3 md:py-5 font-bold shadow-sm flex items-center justify-center gap-2 transition-all">
                <span class="material-symbols-rounded text-2xl">replay_10</span>
                <span class="hidden sm:inline text-lg">Êàª„Çã</span>
            </button>
        </div>

        <!-- 3. Tabbed Panel -->
        <div class="glass-panel p-4 md:p-6 rounded-3xl w-full">
            
            <!-- Main Tabs -->
            <div class="flex gap-2 mb-6 overflow-x-auto pb-2 no-scrollbar border-b border-slate-100">
                <button onclick="switchMainTab('library')" id="tab-library" class="tab-btn px-6 py-3 rounded-xl text-base font-bold transition-all whitespace-nowrap flex items-center gap-2 shrink-0 tab-active">
                    <span class="material-symbols-rounded text-xl">local_library</span> „É©„Ç§„Éñ„É©„É™
                </button>
                <button onclick="switchMainTab('input')" id="tab-input" class="tab-btn hover:bg-teal-50 px-6 py-3 rounded-xl text-base font-bold transition-all whitespace-nowrap flex items-center gap-2 shrink-0 bg-white text-slate-600">
                    <span class="material-symbols-rounded text-xl">edit_note</span> Ëá™Áî±ÂÖ•Âäõ
                </button>
                <button onclick="switchMainTab('settings')" id="tab-settings" class="tab-btn hover:bg-teal-50 px-6 py-3 rounded-xl text-base font-bold transition-all whitespace-nowrap flex items-center gap-2 shrink-0 bg-white text-slate-600">
                    <span class="material-symbols-rounded text-xl">tune</span> Ë®≠ÂÆö
                </button>
            </div>

            <!-- === LIBRARY TAB CONTENT === -->
            <div id="content-library" class="tab-content animate-fade-in block">
                
                <!-- Category Tabs (Sub-navigation) -->
                <div class="flex gap-2 mb-6 overflow-x-auto pb-2 no-scrollbar">
                    <button onclick="switchLibCategory('low-elem')" id="cat-btn-low-elem" class="cat-btn px-4 py-2 rounded-full border font-bold text-sm whitespace-nowrap shadow-sm border-slate-200 text-slate-500 bg-white">
                        üê£ Â∞èÂ≠¶Ê†° ‰ΩéÂ≠¶Âπ¥
                    </button>
                    <button onclick="switchLibCategory('high-elem')" id="cat-btn-high-elem" class="cat-btn px-4 py-2 rounded-full border font-bold text-sm whitespace-nowrap hover:bg-slate-50 border-slate-200 text-slate-500 bg-white">
                        üéí Â∞èÂ≠¶Ê†° È´òÂ≠¶Âπ¥
                    </button>
                    <button onclick="switchLibCategory('junior')" id="cat-btn-junior" class="cat-btn px-4 py-2 rounded-full border font-bold text-sm whitespace-nowrap hover:bg-slate-50 ring-2 ring-offset-1 border-teal-200 bg-teal-50 text-teal-700 ring-teal-300">
                        üè´ ‰∏≠Â≠¶Áîü
                    </button>
                    <button onclick="switchLibCategory('high')" id="cat-btn-high" class="cat-btn px-4 py-2 rounded-full border font-bold text-sm whitespace-nowrap hover:bg-slate-50 border-slate-200 text-slate-500 bg-white">
                        üéì È´òÊ†°„Éª‰∏ÄËà¨
                    </button>
                </div>

                <!-- Sub-Content: Low Elementary -->
                <div id="lib-cat-low-elem" class="lib-cat-content animate-slide-up hidden">
                    <div class="grid md:grid-cols-2 gap-4">
                        <button onclick="loadLibrary('momotaro', 150)" class="lib-card bg-white p-4 rounded-xl border-2 border-transparent hover:border-pink-200 transition-all text-left">
                            <span class="bg-pink-100 text-pink-600 text-[10px] font-bold px-2 py-1 rounded-full mb-2 inline-block">ÊòîË©±</span>
                            <h3 class="font-bold text-xl text-slate-800 mb-1 font-mono">„ÇÇ„ÇÇ„Åü„Çç„ÅÜ</h3>
                            <p class="text-sm text-slate-400 font-mono">„ÇÄ„Åã„Åó„ÇÄ„Åã„Åó„ÄÅ„ÅÇ„Çã„Å®„Åì„Çç„Å´ „Åä„Åò„ÅÑ„Åï„Çì„Å® „Åä„Å∞„ÅÇ„Åï„Çì„Åå „Åô„Çì„Åß„ÅÑ„Åæ„Åó„Åü„ÄÇ</p>
                        </button>
                        <button onclick="loadLibrary('omusubi', 150)" class="lib-card bg-white p-4 rounded-xl border-2 border-transparent hover:border-pink-200 transition-all text-left">
                            <span class="bg-pink-100 text-pink-600 text-[10px] font-bold px-2 py-1 rounded-full mb-2 inline-block">ÊòîË©±</span>
                            <h3 class="font-bold text-xl text-slate-800 mb-1 font-mono">„Åä„ÇÄ„Åô„Å≥ „Åì„Çç„Çä„Çì</h3>
                            <p class="text-sm text-slate-400 font-mono">„ÇÄ„Åã„Åó„ÄÅ„ÅÇ„ÇãÂ±±Èáå„Å´ Ê≠£Áõ¥ËÄÖ„ÅÆ „Åä„Åò„ÅÑ„Åï„Çì„Åå „Åô„Çì„Åß„ÅÑ„Åæ„Åó„Åü„ÄÇ</p>
                        </button>
                        <button onclick="loadLibrary('kasajizo', 150)" class="lib-card bg-white p-4 rounded-xl border-2 border-transparent hover:border-pink-200 transition-all text-left">
                            <span class="bg-pink-100 text-pink-600 text-[10px] font-bold px-2 py-1 rounded-full mb-2 inline-block">ÊòîË©±</span>
                            <h3 class="font-bold text-xl text-slate-800 mb-1 font-mono">„Åã„Åï„Åò„Åû„ÅÜ</h3>
                            <p class="text-sm text-slate-400 font-mono">„ÅÇ„ÇãÂπ¥„ÅÆ „Åè„Çå„ÅÆ „Åì„Å®„Åß„Åô„ÄÇ „Åä„Åò„ÅÑ„Åï„Çì„Å® „Åä„Å∞„ÅÇ„Åï„Çì„ÅØ„ÄÅ „ÅäÊ≠£Êúà„Çí„ÇÄ„Åã„Åà„Çã „Åä„ÇÇ„Å°„ÇÇ „ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ</p>
                        </button>
                        <button onclick="loadLibrary('urashima', 150)" class="lib-card bg-white p-4 rounded-xl border-2 border-transparent hover:border-pink-200 transition-all text-left">
                            <span class="bg-pink-100 text-pink-600 text-[10px] font-bold px-2 py-1 rounded-full mb-2 inline-block">ÊòîË©±</span>
                            <h3 class="font-bold text-xl text-slate-800 mb-1 font-mono">„ÅÜ„Çâ„Åó„Åæ „Åü„Çç„ÅÜ</h3>
                            <p class="text-sm text-slate-400 font-mono">„ÇÄ„Åã„Åó„ÇÄ„Åã„Åó„ÄÅ ‰∏πÂæå„ÅÆÂõΩ„Å´ Êµ¶Â≥∂Â§™ÈÉé„Å®„ÅÑ„ÅÜ „Çä„Çá„ÅÜ„Åó„Åå „Åô„Çì„Åß„ÅÑ„Åæ„Åó„Åü„ÄÇ</p>
                        </button>
                    </div>
                </div>

                <!-- Sub-Content: High Elementary -->
                <div id="lib-cat-high-elem" class="lib-cat-content animate-slide-up hidden">
                    <div class="grid md:grid-cols-2 gap-4">
                        <button onclick="loadLibrary('gongitsune', 250)" class="lib-card bg-white p-4 rounded-xl border-2 border-transparent hover:border-orange-200 transition-all text-left">
                            <span class="bg-orange-100 text-orange-700 text-[10px] font-bold px-2 py-1 rounded-full mb-2 inline-block">Êñ∞ÁæéÂçóÂêâ</span>
                            <h3 class="font-bold text-xl text-slate-800 mb-1 font-serif">„Åî„ÇìÁãê</h3>
                            <p class="text-sm text-slate-400 font-serif">„Åì„Çå„ÅØ„ÄÅÁßÅ„ÅåÂ∞è„Åï„ÅÑ„Å®„Åç„Å´„ÄÅÊùë„ÅÆËåÇÂπ≥„Å®„ÅÑ„ÅÜ„Åä„Åò„ÅÑ„Åï„Çì„Åã„Çâ„Åç„ÅÑ„Åü„ÅäË©±„Åß„Åô„ÄÇ</p>
                        </button>
                        <button onclick="loadLibrary('kenji', 250)" class="lib-card bg-white p-4 rounded-xl border-2 border-transparent hover:border-orange-200 transition-all text-left">
                            <span class="bg-orange-100 text-orange-700 text-[10px] font-bold px-2 py-1 rounded-full mb-2 inline-block">ÂÆÆÊ≤¢Ë≥¢Ê≤ª</span>
                            <h3 class="font-bold text-xl text-slate-800 mb-1 font-serif">Èõ®„Éã„É¢„Éû„Ç±„Ç∫</h3>
                            <p class="text-sm text-slate-400 font-serif">Èõ®„Éã„É¢„Éû„Ç±„Ç∫ È¢®„Éã„É¢„Éû„Ç±„Ç∫ Èõ™„Éã„É¢Â§è„ÉéÊöë„Çµ„Éã„É¢„Éû„Ç±„Éå...</p>
                        </button>
                        <button onclick="loadLibrary('chumon', 250)" class="lib-card bg-white p-4 rounded-xl border-2 border-transparent hover:border-orange-200 transition-all text-left">
                            <span class="bg-orange-100 text-orange-700 text-[10px] font-bold px-2 py-1 rounded-full mb-2 inline-block">ÂÆÆÊ≤¢Ë≥¢Ê≤ª</span>
                            <h3 class="font-bold text-xl text-slate-800 mb-1 font-serif">Ê≥®Êñá„ÅÆÂ§ö„ÅÑÊñôÁêÜÂ∫ó</h3>
                            <p class="text-sm text-slate-400 font-serif">‰∫å‰∫∫„ÅÆËã•„ÅÑÁ¥≥Â£´„Åå„ÄÅ„Åô„Å£„Åã„Çä„Ç§„ÇÆ„É™„Çπ„ÅÆÂÖµÈöä„ÅÆ„Åã„Åü„Å°„Çí„Åó„Å¶„ÄÅÈâÑÁ†≤„Çí„Åã„Å§„ÅÑ„Åß...</p>
                        </button>
                        <button onclick="loadLibrary('yodaka', 250)" class="lib-card bg-white p-4 rounded-xl border-2 border-transparent hover:border-orange-200 transition-all text-left">
                            <span class="bg-orange-100 text-orange-700 text-[10px] font-bold px-2 py-1 rounded-full mb-2 inline-block">ÂÆÆÊ≤¢Ë≥¢Ê≤ª</span>
                            <h3 class="font-bold text-xl text-slate-800 mb-1 font-serif">„Çà„Å†„Åã„ÅÆÊòü</h3>
                            <p class="text-sm text-slate-400 font-serif">„Çà„Å†„Åã„ÅØ„ÄÅÂÆü„Å´„Åø„Å´„Åè„ÅÑÈ≥•„Åß„Åô„ÄÇÈ°î„ÅØ„ÄÅ„Å®„Åì„Çç„Å©„Åì„Çç„ÄÅÂë≥Âôå„Çí„Å§„Åë„Åü„Çà„ÅÜ„Å´...</p>
                        </button>
                    </div>
                </div>

                <!-- Sub-Content: Junior High -->
                <div id="lib-cat-junior" class="lib-cat-content animate-slide-up block">
                    <div class="grid md:grid-cols-2 gap-4">
                        <button onclick="loadLibrary('melos', 350)" class="lib-card bg-white p-4 rounded-xl border-2 border-transparent hover:border-teal-200 transition-all text-left">
                            <span class="bg-teal-100 text-teal-700 text-[10px] font-bold px-2 py-1 rounded-full mb-2 inline-block">Â§™ÂÆ∞Ê≤ª</span>
                            <h3 class="font-bold text-xl text-slate-800 mb-1 font-serif">Ëµ∞„Çå„É°„É≠„Çπ</h3>
                            <p class="text-sm text-slate-400 font-serif">„É°„É≠„Çπ„ÅØÊøÄÊÄí„Åó„Åü„ÄÇÂøÖ„Åö„ÄÅ„Åã„ÅÆÈÇ™Êô∫Êö¥Ëôê„ÅÆÁéã„ÇíÈô§„Åã„Å™„Åë„Çå„Å∞„Å™„Çâ„Å¨„Å®Ê±∫ÊÑè„Åó„Åü„ÄÇ</p>
                        </button>
                        <button onclick="loadLibrary('spider', 350)" class="lib-card bg-white p-4 rounded-xl border-2 border-transparent hover:border-teal-200 transition-all text-left">
                            <span class="bg-teal-100 text-teal-700 text-[10px] font-bold px-2 py-1 rounded-full mb-2 inline-block">Ëä•Â∑ùÈæç‰πã‰ªã</span>
                            <h3 class="font-bold text-xl text-slate-800 mb-1 font-serif">ËúòËõõ„ÅÆÁ≥∏</h3>
                            <p class="text-sm text-slate-400 font-serif">„ÅÇ„ÇãÊó•„ÅÆ‰∫ã„Åß„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇÂæ°ÈáàËø¶Êßò„ÅØÊ•µÊ•Ω„ÅÆËìÆÊ±†„ÅÆ„Åµ„Å°„Çí„ÄÅÁã¨„Çä„Åß„Å∂„Çâ„Å∂„Çâ...</p>
                        </button>
                        <button onclick="loadLibrary('trocco', 350)" class="lib-card bg-white p-4 rounded-xl border-2 border-transparent hover:border-teal-200 transition-all text-left">
                            <span class="bg-teal-100 text-teal-700 text-[10px] font-bold px-2 py-1 rounded-full mb-2 inline-block">Ëä•Â∑ùÈæç‰πã‰ªã</span>
                            <h3 class="font-bold text-xl text-slate-800 mb-1 font-serif">„Éà„É≠„ÉÉ„Ç≥</h3>
                            <p class="text-sm text-slate-400 font-serif">Â∞èÁî∞Âéü„ÉªÁÜ±Êµ∑Èñì„Å´„ÄÅËªΩ‰æøÈâÑÈÅìÊï∑Ë®≠„ÅÆÂ∑•‰∫ã„ÅåÂßã„Åæ„Å£„Åü„ÅÆ„ÅØ„ÄÅËâØÂπ≥„ÅÆÂÖ´„Å§„ÅÆÂπ¥„Å†„Å£„Åü„ÄÇ</p>
                        </button>
                        <button onclick="loadLibrary('takasebune', 350)" class="lib-card bg-white p-4 rounded-xl border-2 border-transparent hover:border-teal-200 transition-all text-left">
                            <span class="bg-teal-100 text-teal-700 text-[10px] font-bold px-2 py-1 rounded-full mb-2 inline-block">Ê£ÆÈ¥éÂ§ñ</span>
                            <h3 class="font-bold text-xl text-slate-800 mb-1 font-serif">È´òÁÄ¨Ëàü</h3>
                            <p class="text-sm text-slate-400 font-serif">È´òÁÄ¨Ëàü„ÅØ‰∫¨ÈÉΩ„ÅÆÈ´òÁÄ¨Â∑ù„Çí‰∏ä‰∏ã„Åô„ÇãÂ∞èËàü„Åß„ÅÇ„Çã„ÄÇ</p>
                        </button>
                    </div>
                </div>

                <!-- Sub-Content: High School / General -->
                <div id="lib-cat-high" class="lib-cat-content animate-slide-up hidden">
                    <div class="grid md:grid-cols-2 gap-4">
                        <button onclick="loadLibrary('sangetsuki', 400)" class="lib-card bg-white p-4 rounded-xl border-2 border-transparent hover:border-indigo-200 transition-all text-left">
                            <span class="bg-indigo-100 text-indigo-700 text-[10px] font-bold px-2 py-1 rounded-full mb-2 inline-block">‰∏≠Â≥∂Êï¶</span>
                            <h3 class="font-bold text-xl text-slate-800 mb-1 font-serif">Â±±ÊúàË®ò</h3>
                            <p class="text-sm text-slate-400 font-serif">Èö¥Ë•ø„ÅÆÊùéÂæ¥„ÅØÂçöÂ≠¶ÊâçÁ©é„ÄÅÂ§©ÂÆù„ÅÆÊú´Âπ¥„ÄÅËã•„Åè„Åó„Å¶Âêç„ÇíËôéÊ¶ú„Å´ÈÄ£„Å≠...</p>
                        </button>
                        <button onclick="loadLibrary('rashomon', 400)" class="lib-card bg-white p-4 rounded-xl border-2 border-transparent hover:border-indigo-200 transition-all text-left">
                            <span class="bg-indigo-100 text-indigo-700 text-[10px] font-bold px-2 py-1 rounded-full mb-2 inline-block">Ëä•Â∑ùÈæç‰πã‰ªã</span>
                            <h3 class="font-bold text-xl text-slate-800 mb-1 font-serif">ÁæÖÁîüÈñÄ</h3>
                            <p class="text-sm text-slate-400 font-serif">„ÅÇ„ÇãÊó•„ÅÆÊöÆÊñπ„ÅÆ‰∫ã„Åß„ÅÇ„Çã„ÄÇ‰∏Ä‰∫∫„ÅÆ‰∏ã‰∫∫„Åå„ÄÅÁæÖÁîüÈñÄ„ÅÆ‰∏ã„ÅßÈõ®„ÇÑ„Åø„ÇíÂæÖ„Å£„Å¶„ÅÑ„Åü„ÄÇ</p>
                        </button>
                        <button onclick="loadLibrary('kokoro', 400)" class="lib-card bg-white p-4 rounded-xl border-2 border-transparent hover:border-indigo-200 transition-all text-left">
                            <span class="bg-indigo-100 text-indigo-700 text-[10px] font-bold px-2 py-1 rounded-full mb-2 inline-block">Â§èÁõÆÊº±Áü≥</span>
                            <h3 class="font-bold text-xl text-slate-800 mb-1 font-serif">„Åì„Åì„Çç</h3>
                            <p class="text-sm text-slate-400 font-serif">ÁßÅ„ÅØ„Åù„ÅÆ‰∫∫„ÇíÂ∏∏„Å´ÂÖàÁîü„Å®Âëº„Çì„Åß„ÅÑ„Åü„ÄÇ„Å†„Åã„Çâ„Åì„Åì„Åß„ÇÇ„Åü„Å†ÂÖàÁîü„Å®Êõ∏„Åè„Å†„Åë„Åß...</p>
                        </button>
                        <button onclick="loadLibrary('souseki', 400)" class="lib-card bg-white p-4 rounded-xl border-2 border-transparent hover:border-indigo-200 transition-all text-left">
                            <span class="bg-indigo-100 text-indigo-700 text-[10px] font-bold px-2 py-1 rounded-full mb-2 inline-block">Â§èÁõÆÊº±Áü≥</span>
                            <h3 class="font-bold text-xl text-slate-800 mb-1 font-serif">ÂêæËº©„ÅØÁå´„Åß„ÅÇ„Çã</h3>
                            <p class="text-sm text-slate-400 font-serif">ÂêæËº©„ÅØÁå´„Åß„ÅÇ„Çã„ÄÇÂêçÂâç„ÅØ„Åæ„Å†ÁÑ°„ÅÑ„ÄÇ„Å©„Åì„ÅßÁîü„Çå„Åü„Åã„Å®„Çì„Å®Ë¶ãÂΩì„Åå„Å§„Åã„Å¨„ÄÇ</p>
                        </button>
                    </div>
                </div>

            </div>

            <!-- === INPUT TAB CONTENT === -->
            <div id="content-input" class="tab-content animate-fade-in hidden">
                <textarea id="custom-text" class="w-full h-48 p-4 rounded-xl bg-white border-2 border-slate-100 focus:border-teal-400 outline-none text-slate-700 resize-none font-medium mb-4 shadow-inner-soft font-serif text-lg leading-relaxed" placeholder="„Åì„Åì„Å´Ë™≠„Åø„Åü„ÅÑÊñáÁ´†„ÇíË≤º„Çä‰ªò„Åë„Å¶„Åè„Å†„Åï„ÅÑ...

ÊïôÁßëÊõ∏„ÅÆÊñáÁ´†„ÇÑ„ÄÅÈùíÁ©∫ÊñáÂ∫´„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„Å™„Å©„ÄÅÂ•Ω„Åç„Å™ÊñáÁ´†„Åß„Éà„É¨„Éº„Éã„É≥„Ç∞„Åß„Åç„Åæ„Åô„ÄÇ"></textarea>
                <div class="flex justify-between items-center">
                    <button onclick="document.getElementById('custom-text').value=''" class="text-sm text-slate-400 hover:text-red-400 font-bold px-2 flex items-center gap-1">
                        <span class="material-symbols-rounded text-lg">delete</span> „ÇØ„É™„Ç¢
                    </button>
                    <button onclick="prepareReader('custom')" class="bg-teal-600 hover:bg-teal-500 text-white px-8 py-3 rounded-xl font-bold shadow-md hover:shadow-lg transition-all flex items-center gap-2 text-lg">
                        <span class="material-symbols-rounded text-2xl">check</span> Ë™≠„ÅøËæº„Åø
                    </button>
                </div>
            </div>

            <!-- === SETTINGS TAB CONTENT === -->
            <div id="content-settings" class="tab-content animate-fade-in hidden">
                <div class="space-y-8 py-2">
                    <!-- WPM Slider -->
                    <div class="bg-slate-50 p-6 rounded-2xl border border-slate-100">
                        <div class="flex justify-between items-end mb-4">
                            <label class="text-lg font-bold text-slate-700 flex items-center gap-2">
                                <span class="material-symbols-rounded text-teal-500 text-2xl">speed</span> 
                                Ë°®Á§∫ÈÄüÂ∫¶ (WPM)
                            </label>
                            <span class="text-3xl font-black text-teal-600 tabular-nums" id="wpm-display">250</span>
                        </div>
                        <!-- Adjusted Range: 50 to 1000 -->
                        <input type="range" id="wpm-slider" min="50" max="1000" step="10" value="400" oninput="updateSettings()" class="w-full mb-2">
                        <div class="flex justify-between text-xs text-slate-400 font-bold px-1">
                            <span>50 (ÂàùÂøÉËÄÖ)</span>
                            <span>400 (Âπ≥Âùá)</span>
                            <span>1000 (Ë∂Ö‰∏äÁ¥ö)</span>
                        </div>
                    </div>

                    <!-- Chunk Size -->
                    <div class="bg-slate-50 p-6 rounded-2xl border border-slate-100">
                        <label class="text-lg font-bold text-slate-700 flex items-center gap-2 mb-4">
                            <span class="material-symbols-rounded text-teal-500 text-2xl">short_text</span> 
                            „ÅÑ„Å°„Å©„Å´Ë°®Á§∫„Åô„ÇãÈáè
                        </label>
                        <div class="grid grid-cols-3 gap-3">
                            <button onclick="setChunkSize(1)" class="chunk-btn bg-teal-600 text-white border-2 border-teal-600 py-3 rounded-xl font-bold transition-all text-lg shadow-md">1ÂçòË™û</button>
                            <button onclick="setChunkSize(2)" class="chunk-btn bg-white text-slate-600 border-2 border-slate-200 py-3 rounded-xl font-bold hover:border-teal-300 transition-all text-lg">2ÂçòË™û</button>
                            <button onclick="setChunkSize(3)" class="chunk-btn bg-white text-slate-600 border-2 border-slate-200 py-3 rounded-xl font-bold hover:border-teal-300 transition-all text-lg">3ÂçòË™û</button>
                        </div>
                        <p class="text-sm text-slate-500 mt-3 flex items-start gap-2">
                            <span class="material-symbols-rounded text-teal-500 text-lg">info</span>
                            ‰ΩéÂ≠¶Âπ¥„ÅÆ„ÅäÂ≠êÊßò„ÇÑ„ÄÅÈõ£„Åó„ÅÑÊº¢Â≠ó„ÅåÂ§ö„ÅÑÊñáÁ´†„ÅØ„Äå1ÂçòË™û„Äç„Åå„Åä„Åô„Åô„ÇÅ„Åß„Åô„ÄÇ
                        </p>
                    </div>
                </div>
            </div>

        </div>

    </main>

    <!-- Parent/Guardian Modal -->
    <dialog id="parents-modal" class="p-0 rounded-2xl shadow-2xl backdrop:bg-slate-900/60 open:animate-fade-in w-full max-w-lg m-auto overflow-hidden">
        <div class="bg-white p-6 md:p-8" onclick="event.stopPropagation()">
            <!-- Header -->
            <div class="flex justify-between items-start mb-6">
                <div class="flex items-center gap-3">
                    <div class="w-12 h-12 bg-teal-50 text-teal-600 rounded-full flex items-center justify-center">
                        <span class="material-symbols-rounded text-3xl">sentiment_satisfied</span>
                    </div>
                    <div>
                        <h3 class="font-bold text-xl text-slate-800">‰øùË≠∑ËÄÖ„ÅÆÊñπ„Å∏</h3>
                        <p class="text-xs text-slate-400 font-bold">Thank you for visiting</p>
                    </div>
                </div>
                <button onclick="document.getElementById('parents-modal').close()" class="text-slate-300 hover:text-slate-600 transition-colors p-2 -mr-2 -mt-2">
                    <span class="material-symbols-rounded text-2xl">close</span>
                </button>
            </div>
            
            <!-- Content -->
            <div class="space-y-6 text-sm text-slate-600 leading-relaxed overflow-y-auto max-h-[60vh] pr-2">
                <!-- Message -->
                <div class="bg-teal-50 p-5 rounded-2xl border border-teal-100">
                    <p class="font-bold text-teal-800 text-base mb-2">„ÅîÂà©Áî®„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô</p>
                    <p class="text-teal-900/80">
                        „Åì„ÅÆÂ∫¶„ÅØ„ÄÅ„ÅäÂ≠êÊßò„ÅÆÂ≠¶Áøí„ÉÑ„Éº„É´„Å®„Åó„Å¶Êú¨„Çµ„Ç§„Éà„ÇíÈÅ∏„Çì„Åß„ÅÑ„Åü„Å†„Åç„ÄÅÊú¨ÂΩì„Å´„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇ
                        „Åì„ÅÆ„Ç¢„Éó„É™„ÅØ„ÅäÂ≠êÊßò„Åå„ÄåË™≠„ÇÄ„Åì„Å®„Äç„ÇíÊ•Ω„Åó„ÇÅ„Çã„Çà„ÅÜ„Å´Ë®≠Ë®à„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ
                    </p>
                </div>
                <!-- Educational Benefits -->
                <div>
                    <h4 class="font-bold text-slate-800 flex items-center gap-2 mb-3 text-base">
                        <span class="material-symbols-rounded text-teal-500 text-xl">psychology</span>
                        „Åì„ÅÆ„Ç¢„Éó„É™„ÅÆÊïôËÇ≤ÁöÑÂäπÊûú
                    </h4>
                    <ul class="space-y-3">
                        <li class="flex gap-3">
                            <span class="material-symbols-rounded text-teal-500 text-lg shrink-0 mt-0.5">timer</span>
                            <div>
                                <strong class="block text-slate-800">Ë™≠„ÇÄÈÄüÂ∫¶„ÅÆÂêë‰∏äÔºàÂá¶ÁêÜËÉΩÂäõÔºâ</strong>
                                <span class="text-slate-500 text-xs">ÁõÆ„ÇíÂãï„Åã„ÅôÊôÇÈñì„ÇíÊ∏õ„Çâ„Åô„Åì„Å®„Åß„ÄÅËÑ≥„ÅåÊñáÂ≠óÊÉÖÂ†±„ÇíÂá¶ÁêÜ„Åô„ÇãÁ¥îÁ≤ã„Å™„Çπ„Éî„Éº„Éâ„ÇíÈçõ„Åà„Åæ„Åô„ÄÇ</span>
                            </div>
                        </li>
                        <li class="flex gap-3">
                            <span class="material-symbols-rounded text-teal-500 text-lg shrink-0 mt-0.5">center_focus_strong</span>
                            <div>
                                <strong class="block text-slate-800">ÈõÜ‰∏≠Âäõ„ÅÆ„Éà„É¨„Éº„Éã„É≥„Ç∞</strong>
                                <span class="text-slate-500 text-xs">Ê¨°„ÄÖ„Å®Áèæ„Çå„ÇãÊñáÂ≠ó„ÇíËøΩ„ÅÜË°åÁÇ∫„ÅØ„ÄÅ„Ç≤„Éº„É†„ÅÆ„Çà„ÅÜ„Å™ÊÑüË¶ö„ÅßÊ∑±„ÅÑÈõÜ‰∏≠Áä∂ÊÖãÔºà„Çæ„Éº„É≥Ôºâ„Å´ÂÖ•„Çä„ÇÑ„Åô„Åè„Åó„Åæ„Åô„ÄÇ</span>
                            </div>
                        </li>
                    </ul>
                </div>
                <!-- Copyright Info -->
                <div class="border-t border-slate-100 pt-4">
                    <h4 class="font-bold text-slate-800 flex items-center gap-2 mb-2">
                        <span class="material-symbols-rounded text-slate-400 text-lg">copyright</span>
                        Ëëó‰ΩúÊ®©„Å´„Å§„ÅÑ„Å¶
                    </h4>
                    <p class="text-xs">
                        „Ç¢„Éó„É™ÂÜÖ„Å´ÂèéÈå≤„Åó„Å¶„ÅÑ„Çã‰ΩúÂìÅÔºà„Åî„ÇìÁãê„ÄÅ„ÇÇ„ÇÇ„Åü„Çç„ÅÜÁ≠âÔºâ„ÅØ„ÄÅËëó‰ΩúÊ®©‰øùË≠∑ÊúüÈñì„ÅåÊ∫Ä‰∫Ü„Åó„Åü<span class="font-bold text-teal-600">„Éë„Éñ„É™„ÉÉ„ÇØ„Éâ„É°„Ç§„É≥‰ΩúÂìÅ</span>„Åß„Åô„ÄÇÈùíÁ©∫ÊñáÂ∫´Á≠â„ÅßÂÖ¨Èñã„Åï„Çå„Å¶„ÅÑ„Çã„ÉÜ„Ç≠„Çπ„Éà„Çí‰ΩøÁî®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ
                    </p>
                </div>
            </div>

            <div class="mt-8 pt-4 border-t border-slate-100">
                <button onclick="document.getElementById('parents-modal').close()" class="w-full bg-teal-600 text-white font-bold py-3 rounded-xl hover:bg-teal-500 transition-colors shadow-md text-base">
                    Èñâ„Åò„Çã
                </button>
            </div>
        </div>
    </dialog>

    <script>
        // --- Setup Modal Backdrop Click ---
        const dialog = document.getElementById('parents-modal');
        dialog.addEventListener('click', (event) => {
            if (event.target === dialog) {
                dialog.close();
            }
        });

        // --- State ---
        let contentWords = ["Ready?"];
        let currentIndex = 0;
        let isPlaying = false;
        let timer = null;
        let wpm = 400;
        let chunkSize = 1;
        let currentTitle = "";

        // --- Library Data (Expanded) ---
        const libraries = {
            // == Â∞èÂ≠¶Ê†° ‰ΩéÂ≠¶Âπ¥ ==
            'momotaro': { title: '„ÇÇ„ÇÇ„Åü„Çç„ÅÜ', text: `„ÇÄ„Åã„Åó„ÇÄ„Åã„Åó„ÄÅ „ÅÇ„Çã„Å®„Åì„Çç„Å´ „Åä„Åò„ÅÑ„Åï„Çì„Å® „Åä„Å∞„ÅÇ„Åï„Çì„Åå „Åô„Çì„Åß„ÅÑ„Åæ„Åó„Åü„ÄÇ „Åä„Åò„ÅÑ„Åï„Çì„ÅØ Â±±„Å∏ „Åó„Å∞„Åã„Çä„Å´„ÄÅ „Åä„Å∞„ÅÇ„Åï„Çì„ÅØ Â∑ù„Å∏ „Åõ„Çì„Åü„Åè„Å´ „ÅÑ„Åç„Åæ„Åó„Åü„ÄÇ „Åä„Å∞„ÅÇ„Åï„Çì„Åå Â∑ù„Åß „Åõ„Çì„Åü„Åè„Çí „Åó„Å¶„ÅÑ„Çã„Å®„ÄÅ „Éâ„É≥„Éñ„É©„Ç≥„ÄÅ „Éâ„É≥„Éñ„É©„Ç≥„Å®„ÄÅ Â§ß„Åç„Å™ „ÇÇ„ÇÇ„Åå „Å™„Åå„Çå„Å¶„Åç„Åæ„Åó„Åü„ÄÇ „Äå„Åä„ÇÑ„ÄÅ „Å™„Çì„Å¶ Â§ß„Åç„Å™ „ÇÇ„ÇÇ„Å†„Çç„ÅÜ„ÄÇ ÂÆ∂„Å´ „ÇÇ„Å£„Å¶„Åã„Åà„Å£„Å¶„ÄÅ „Åä„Åò„ÅÑ„Åï„Çì„Å® „Åü„Åπ„Çà„ÅÜ„Äç „Åä„Å∞„ÅÇ„Åï„Çì„ÅØ „ÇÇ„ÇÇ„Çí „Å≤„Çç„ÅÑ„ÅÇ„Åí„Å¶„ÄÅ ÂÆ∂„Å´ „Åã„Åà„Çä„Åæ„Åó„Åü„ÄÇ` },
            'omusubi': { title: '„Åä„ÇÄ„Åô„Å≥ „Åì„Çç„Çä„Çì', text: `„ÇÄ„Åã„Åó„ÄÅ„ÅÇ„ÇãÂ±±Èáå„Å´ Ê≠£Áõ¥ËÄÖ„ÅÆ „Åä„Åò„ÅÑ„Åï„Çì„Åå „Åô„Çì„Åß„ÅÑ„Åæ„Åó„Åü„ÄÇ „Åä„Åò„ÅÑ„Åï„Çì„Åå Â±±„Å∏ Êú®„Çí „Åç„Çä„Å´ „ÅÑ„Å£„Åü „Å®„Åç„ÅÆ„Åì„Å®„ÄÅ „Åä„Å≤„Çã„Å´ „Å™„Å£„Åü„ÅÆ„Åß„ÄÅ „Åä„Åπ„Çì„Å®„ÅÜ„ÅÆ „Åä„ÇÄ„Åô„Å≥„Çí „Åü„Åπ„Çà„ÅÜ„Å® „Åó„Åæ„Åó„Åü„ÄÇ „Åô„Çã„Å®„ÄÅ„Åä„ÇÄ„Åô„Å≥„Åå Êâã„Åã„Çâ „Åô„Åπ„Çä„Åä„Å°„Å¶„ÄÅ „Ç≥„É≠„Ç≥„É≠„Å® „Åì„Çç„Åå„Å£„Å¶ „ÅÑ„Åç„Åæ„Åó„Åü„ÄÇ „Åä„ÇÄ„Åô„Å≥„ÅØ „Å©„Çì„Å©„Çì „Åì„Çç„Åå„Å£„Å¶„ÄÅ Âú∞Èù¢„ÅÆ Á©¥„ÅÆ ‰∏≠„Å∏ „Åä„Å°„Å¶„Åó„Åæ„ÅÑ„Åæ„Åó„Åü„ÄÇ „Åô„Çã„Å®„ÄÅ Á©¥„ÅÆ‰∏≠„Åã„Çâ „Åã„Çè„ÅÑ„ÅÑ Ê≠å„Åå „Åç„Åì„Åà„Å¶„Åç„Åæ„Åó„Åü„ÄÇ „Åä„ÇÄ„Åô„Å≥ „Ç≥„É≠„É™„É≥ „Çπ„ÉÉ„Éà„É≥ „Éà„É≥„ÄÇ` },
            'kasajizo': { title: '„Åã„Åï„Åò„Åû„ÅÜ', text: `„ÅÇ„ÇãÂπ¥„ÅÆ „Åè„Çå„ÅÆ „Åì„Å®„Åß„Åô„ÄÇ „Åä„Åò„ÅÑ„Åï„Çì„Å® „Åä„Å∞„ÅÇ„Åï„Çì„ÅØ„ÄÅ „ÅäÊ≠£Êúà„Çí„ÇÄ„Åã„Åà„Çã „Åä„ÇÇ„Å°„ÇÇ „ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ „Äå„Åó„Åã„Åü„Åå„Å™„ÅÑ„ÄÇ „Åô„Åí„Åå„Åï„Çí „Å§„Åè„Å£„Å¶ Â£≤„Çä„Å´ „ÅÑ„Åì„ÅÜ„Äç „Åä„Åò„ÅÑ„Åï„Çì„ÅØ ‰∏ÄÁîüÊá∏ÂëΩ „Åã„Åï„Çí „Å§„Åè„Çä„Åæ„Åó„Åü„ÄÇ „Å§„Åè„Å£„Åü „Åã„Åï„ÅØ ‰∫î„Å§„ÄÇ „Äå„Åì„Çå„Åß „Åä„ÇÇ„Å°„Åå „Åã„Åà„Çã„Å® „ÅÑ„ÅÑ„Åå„Äç „Åä„Åò„ÅÑ„Åï„Çì„ÅØ ‰∫î„Å§„ÅÆ „Åã„Åï„Çí „ÇÇ„Å£„Å¶„ÄÅ „Åæ„Å°„Å∏ Âá∫„Åã„Åë„Åæ„Åó„Åü„ÄÇ „Å®„Åì„Çç„Åå Èõ™„Åå „Åµ„Å£„Å¶„Åç„Å¶„ÄÅ „Å†„Çå„ÇÇ „Åã„Åï„Çí „Åã„Å£„Å¶„Åè„Çå„Åæ„Åõ„Çì„ÄÇ` },
            'urashima': { title: '„ÅÜ„Çâ„Åó„Åæ „Åü„Çç„ÅÜ', text: `„ÇÄ„Åã„Åó„ÇÄ„Åã„Åó„ÄÅ ‰∏πÂæå„ÅÆÂõΩ„Å´ Êµ¶Â≥∂Â§™ÈÉé„Å®„ÅÑ„ÅÜ „Çä„Çá„ÅÜ„Åó„Åå „Åô„Çì„Åß„ÅÑ„Åæ„Åó„Åü„ÄÇ „ÅÇ„ÇãÊó•„ÄÅ Â§™ÈÉé„Åå ÊµúËæ∫„Çí Ê≠©„ÅÑ„Å¶„ÅÑ„Çã„Å®„ÄÅ Â≠ê‰æõ„Åü„Å°„Åå ‰∏Ä„Å¥„Åç„ÅÆ ‰∫Ä„Çí „ÅÑ„Åò„ÇÅ„Å¶„ÅÑ„Åæ„Åó„Åü„ÄÇ „Äå„Åã„Çè„ÅÑ„Åù„ÅÜ„Å´„ÄÇ „Å´„Åå„Åó„Å¶ „Åä„ÇÑ„Çä„Äç Â§™ÈÉé„ÅØ Â≠ê‰æõ„Åü„Å°„Å´ „ÅäÈáë„Çí„ÇÑ„Å£„Å¶ ‰∫Ä„Çí Âä©„Åë„Å¶„ÇÑ„Çä„Åæ„Åó„Åü„ÄÇ „Åô„Çã„Å® ‰∫å„ÄÅ‰∏âÊó• „Åü„Å£„Åü „Åì„Çç„ÄÅ Â§™ÈÉé„Åå Êµ∑„Åß Èá£„Çä„Çí „Åó„Å¶„ÅÑ„Çã„Å®„ÄÅ „ÅÇ„ÅÆ„Å®„Åç„ÅÆ ‰∫Ä„Åå „ÇÑ„Å£„Å¶„Åç„Å¶ „ÅÑ„ÅÑ„Åæ„Åó„Åü„ÄÇ „ÄåÂ§™ÈÉé„Åï„Çì„ÄÅ Á´úÂÆÆÂüé„Å∏ „Å§„Çå„Å¶„ÅÑ„Å£„Å¶ „ÅÇ„Åí„Åæ„Åó„Çá„ÅÜ„Äç` },

            // == Â∞èÂ≠¶Ê†° È´òÂ≠¶Âπ¥ ==
            'gongitsune': { title: '„Åî„ÇìÁãê', text: `„Åì„Çå„ÅØ„ÄÅÁßÅ„ÅåÂ∞è„Åï„ÅÑ„Å®„Åç„Å´„ÄÅÊùë„ÅÆËåÇÂπ≥„Å®„ÅÑ„ÅÜ„Åä„Åò„ÅÑ„Åï„Çì„Åã„Çâ„Åç„ÅÑ„Åü„ÅäË©±„Åß„Åô„ÄÇ„ÇÄ„Åã„Åó„ÅØ„ÄÅÁßÅ„Åü„Å°„ÅÆÊùë„ÅÆ„Å°„Åã„Åè„ÅÆ„ÄÅ‰∏≠Â±±„Å®„ÅÑ„ÅÜ„Å®„Åì„Çç„Å´Â∞è„Åï„Å™„ÅäÂüé„Åå„ÅÇ„Å£„Å¶„ÄÅ‰∏≠Â±±„Åï„Åæ„Å®„ÅÑ„ÅÜ„Åä„Å®„ÅÆ„Åï„Åæ„Åå„ÄÅ„Åä„Çâ„Çå„Åü„Åù„ÅÜ„Åß„Åô„ÄÇ„Åù„ÅÆ‰∏≠Â±±„Åã„Çâ„ÄÅÂ∞ë„Åó„ÅØ„Å™„Çå„ÅüÂ±±„ÅÆ‰∏≠„Å´„ÄÅ„Äå„Åî„ÇìÁãê„Äç„Å®„ÅÑ„ÅÜÁãê„Åå„ÅÑ„Åæ„Åó„Åü„ÄÇ„Åî„Çì„ÅØ„ÄÅ‰∏Ä‰∫∫„Åº„Å£„Å°„ÅÆÂ∞èÁãê„Åß„ÄÅ„Åó„Å†„ÅÆ‰∏Ä„Å±„ÅÑ„Åó„Åí„Å£„ÅüÊ£Æ„ÅÆ‰∏≠„Å´Á©¥„Çí„Åª„Å£„Å¶‰Ωè„Çì„Åß„ÅÑ„Åæ„Åó„Åü„ÄÇ` },
            'kenji': { title: 'Èõ®„Éã„É¢„Éû„Ç±„Ç∫', text: `Èõ®„Éã„É¢„Éû„Ç±„Ç∫ È¢®„Éã„É¢„Éû„Ç±„Ç∫ Èõ™„Éã„É¢Â§è„ÉéÊöë„Çµ„Éã„É¢„Éû„Ç±„Éå ‰∏àÂ§´„Éä„Ç´„É©„ÉÄ„É≤„É¢„ÉÅ ÊÖæ„Éè„Éä„ÇØ Ê±∫„Ç∑„ÉÜÁûã„É©„Ç∫ „Ç§„ÉÑ„É¢„Ç∑„ÉÖ„Ç´„Éã„ÉØ„É©„ÉÉ„ÉÜ„É∞„É´ ‰∏ÄÊó•„ÉãÁéÑÁ±≥ÂõõÂêà„Éà Âë≥Âôå„ÉàÂ∞ë„Ç∑„ÉéÈáéËèú„É≤„Çø„Éô „Ç¢„É©„É¶„É´„Ç≥„Éà„É≤ „Ç∏„Éñ„É≥„É≤„Ç´„É≥„Ç∏„Éß„Ç¶„ÉãÂÖ•„É¨„Ç∫„Éã „É®„ÇØ„Éü„Ç≠„Ç≠„Ç∑„ÉØ„Ç´„É™ „ÇΩ„Ç∑„ÉÜ„ÉØ„Çπ„É¨„Ç∫` },
            'chumon': { title: 'Ê≥®Êñá„ÅÆÂ§ö„ÅÑÊñôÁêÜÂ∫ó', text: `‰∫å‰∫∫„ÅÆËã•„ÅÑÁ¥≥Â£´„Åå„ÄÅ„Åô„Å£„Åã„Çä„Ç§„ÇÆ„É™„Çπ„ÅÆÂÖµÈöä„ÅÆ„Åã„Åü„Å°„Çí„Åó„Å¶„ÄÅ„Å¥„Åã„Å¥„Åã„Åô„ÇãÈâÑÁ†≤„Çí„Åã„Å§„ÅÑ„Åß„ÄÅÁôΩÁÜä„ÅÆ„Çà„ÅÜ„Å™Áä¨„Çí‰∫åÁñã„Å§„Çå„Å¶„ÄÅ„Å†„ÅÑ„Å∂Â±±Â••„ÅÆ„ÄÅÊú®„ÅÆËëâ„ÅÆ„Åã„Åï„Åã„Åï„Åó„Åü„Å®„Åì„ÇíÊ≠©„ÅÑ„Å¶„Åä„Çä„Åæ„Åó„Åü„ÄÇ„Äå„Åú„Çì„Åü„ÅÑ„ÄÅ„Åì„Åì„Çâ„ÅÆÂ±±„ÅØ„Åë„Åó„Åã„Çâ„Çì„Å≠„ÄÇÈ≥•„ÇÇÁç£„ÇÇ‰∏ÄÁñã„ÇÇÂ±Ö„ÇÑ„Åå„Çâ„Çì„ÄÇ„Å™„Çì„Åß„ÇÇÊßã„Çè„Å™„ÅÑ„Åã„Çâ„ÄÅÊó©„Åè„Çø„É≥„Çø„Ç¢„Éº„É≥„Å®„ÄÅ„ÇÑ„Å£„Å¶Ë¶ã„Åü„ÅÑ„ÇÇ„Çì„Å†„Å™„ÅÇ„ÄÇ„Äç` },
            'yodaka': { title: '„Çà„Å†„Åã„ÅÆÊòü', text: `„Çà„Å†„Åã„ÅØ„ÄÅÂÆü„Å´„Åø„Å´„Åè„ÅÑÈ≥•„Åß„Åô„ÄÇÈ°î„ÅØ„ÄÅ„Å®„Åì„Çç„Å©„Åì„Çç„ÄÅÂë≥Âôå„Çí„Å§„Åë„Åü„Çà„ÅÜ„Å´„Åæ„Å†„Çâ„Åß„ÄÅ„Åè„Å°„Å∞„Åó„ÅØ„ÄÅ„Å≤„Çâ„Åü„Åè„Å¶„ÄÅËÄ≥„Åæ„Åß„Åï„Åë„Å¶„ÅÑ„Åæ„Åô„ÄÇË∂≥„ÅØ„ÄÅ„Åæ„Çã„Åß„Çà„Åº„Çà„Åº„Åß„ÄÅ‰∏ÄÈñì„Å®„ÇÇÊ≠©„Åë„Åæ„Åõ„Çì„ÄÇ„Åª„Åã„ÅÆÈ≥•„ÅØ„ÄÅ„ÇÇ„ÅÜ„ÄÅ„Çà„Å†„Åã„ÅÆÈ°î„ÇíË¶ã„Åü„Å†„Åë„Åß„ÇÇ„ÄÅ„ÅÑ„ÇÑ„Å´„Å™„Å£„Å¶„Åó„Åæ„ÅÜ„Å®„ÅÑ„ÅÜÂ∑•Âêà„Åß„Åó„Åü„ÄÇ„Åü„Å®„Åà„Å∞„ÄÅ„Å≤„Å∞„Çä„ÇÇ„ÄÅ„ÅÇ„Åæ„ÇäÁæé„Åó„ÅÑÈ≥•„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„Åå„ÄÅ„Çà„Å†„Åã„Çà„Çä„ÅØ„ÄÅ„Åö„Å£„Å®‰∏ä„Å†„Å®ÊÄù„Å£„Å¶„ÅÑ„Åæ„Åó„Åü„ÄÇ` },

            // == ‰∏≠Â≠¶Áîü ==
            'melos': { title: 'Ëµ∞„Çå„É°„É≠„Çπ', text: `„É°„É≠„Çπ„ÅØÊøÄÊÄí„Åó„Åü„ÄÇÂøÖ„Åö„ÄÅ„Åã„ÅÆÈÇ™Êô∫Êö¥Ëôê„ÅÆÁéã„ÇíÈô§„Åã„Å™„Åë„Çå„Å∞„Å™„Çâ„Å¨„Å®Ê±∫ÊÑè„Åó„Åü„ÄÇ„É°„É≠„Çπ„Å´„ÅØÊîøÊ≤ª„Åå„Çè„Åã„Çâ„Å¨„ÄÇ„É°„É≠„Çπ„ÅØ„ÄÅÊùë„ÅÆÁâß‰∫∫„Åß„ÅÇ„Çã„ÄÇÁ¨õ„ÇíÂêπ„Åç„ÄÅÁæä„Å®ÈÅä„Çì„ÅßÊöÆ„Åó„Å¶Êù•„Åü„ÄÇ„Åë„Çå„Å©„ÇÇÈÇ™ÊÇ™„Å´ÂØæ„Åó„Å¶„ÅØ„ÄÅ‰∫∫‰∏ÄÂÄç„Å´ÊïèÊÑü„Åß„ÅÇ„Å£„Åü„ÄÇ„Åç„Çá„ÅÜÊú™Êòé„É°„É≠„Çπ„ÅØÊùë„ÇíÂá∫Áô∫„Åó„ÄÅÈáé„ÇíË∂ä„ÅàÂ±±Ë∂ä„Åà„ÄÅÂçÅÈáå„ÅØ„Å™„Çå„ÅüÊ≠§„ÅÆ„Ç∑„É©„ÇØ„Çπ„ÅÆÂ∏Ç„Å´„ÇÑ„Å£„Å¶Êù•„Åü„ÄÇ` },
            'spider': { title: 'ËúòËõõ„ÅÆÁ≥∏', text: `„ÅÇ„ÇãÊó•„ÅÆ‰∫ã„Åß„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇÂæ°ÈáàËø¶Êßò„ÅØÊ•µÊ•Ω„ÅÆËìÆÊ±†„ÅÆ„Åµ„Å°„Çí„ÄÅÁã¨„Çä„Åß„Å∂„Çâ„Å∂„ÇâÂæ°Ê≠©„Åç„Å´„Å™„Å£„Å¶„ÅÑ„Çâ„Å£„Åó„ÇÉ„ÅÑ„Åæ„Åó„Åü„ÄÇÊ±†„ÅÆ‰∏≠„Å´Âí≤„ÅÑ„Å¶„ÅÑ„ÇãËìÆ„ÅÆËä±„ÅØ„ÄÅ„Åø„Çì„Å™Áéâ„ÅÆ„Çà„ÅÜ„Å´„Åæ„Å£ÁôΩ„Åß„ÄÅ„Åù„ÅÆ„Åæ„Çì‰∏≠„Å´„ÅÇ„ÇãÈáëËâ≤„ÅÆËïä„Åã„Çâ„ÅØ„ÄÅ‰Ωï„Å®„ÇÇ‰∫ë„Åà„Å™„ÅÑÂ•Ω„ÅÑÂåÇ„Åå„ÄÅÁµ∂Èñì„Å™„Åè„ÅÇ„Åü„Çä„Å∏Ê∫¢„Çå„Å¶Â±Ö„Çä„Åæ„Åô„ÄÇÊ•µÊ•Ω„ÅØ‰∏ÅÂ∫¶Êúù„Å™„ÅÆ„Åß„Åî„Åñ„ÅÑ„Åæ„Åó„Çá„ÅÜ„ÄÇ„ÇÑ„Åå„Å¶Âæ°ÈáàËø¶Êßò„ÅØ„Åù„ÅÆÊ±†„ÅÆ„Åµ„Å°„Å´Âæ°‰Ωá„Åø„Å´„Å™„Å£„Å¶„ÄÅÊ∞¥„ÅÆÈù¢„ÇíËîΩ„Å£„Å¶„ÅÑ„ÇãËìÆ„ÅÆËëâ„ÅÆÈñì„Åã„Çâ„ÄÅ„Åµ„Å®‰∏ã„ÅÆÂÆπÂ≠ê„ÇíÂæ°Ë¶ß„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ` },
            'trocco': { title: '„Éà„É≠„ÉÉ„Ç≥', text: `Â∞èÁî∞Âéü„ÉªÁÜ±Êµ∑Èñì„Å´„ÄÅËªΩ‰æøÈâÑÈÅìÊï∑Ë®≠„ÅÆÂ∑•‰∫ã„ÅåÂßã„Åæ„Å£„Åü„ÅÆ„ÅØ„ÄÅËâØÂπ≥„ÅÆÂÖ´„Å§„ÅÆÂπ¥„Å†„Å£„Åü„ÄÇËâØÂπ≥„ÅØÊØéÊó•ÊùëÂ§ñ„Çå„Å∏„ÄÅ„Åù„ÅÆÂ∑•‰∫ã„ÇíË¶ãÁâ©„Å´Ë°å„Å§„Åü„ÄÇÂ∑•‰∫ã„Çí‚Äï‚Äï„Å®‰∫ë„Å§„Å¶„ÇÇ„ÄÅÂîØ„Éà„É≠„ÉÑ„Ç≥„ÅßÂúü„ÇíÈÅãÊê¨„Åô„ÇãÈù¢ÁôΩ„Åï„Å´Ë¶ã„Å®„Çå„Å¶„Çê„Åü„ÅÆ„Åß„ÅÇ„Çã„ÄÇ„Éà„É≠„ÉÑ„Ç≥„ÅÆ‰∏ä„Å´„ÅØÂúüÂ∑•„Åå‰∫å‰∫∫„ÄÅÂúü„ÇíÁ©ç„Çì„Å†Âæå„Çç„Å´‰Ωá„Çì„Åß„Çê„Çã„ÄÇ„Éà„É≠„ÉÑ„Ç≥„ÅØÂ±±„Çí‰∏ã„Çã„ÅÆ„Å†„Åã„Çâ„ÄÅ‰∫∫Êâã„ÇíÂÄü„Çä„Åö„Å´Ëµ∞„Å§„Å¶Êù•„Çã„ÄÇ` },
            'takasebune': { title: 'È´òÁÄ¨Ëàü', text: `È´òÁÄ¨Ëàü„ÅØ‰∫¨ÈÉΩ„ÅÆÈ´òÁÄ¨Â∑ù„Çí‰∏ä‰∏ã„Åô„ÇãÂ∞èËàü„Åß„ÅÇ„Çã„ÄÇÂæ≥Â∑ùÊôÇ‰ª£„Å´‰∫¨ÈÉΩ„ÅÆÁΩ™‰∫∫„ÅåÈÅ†Â≥∂„ÇíÁî≥„ÅóÊ∏°„Åï„Çå„Çã„Å®„ÄÅÊú¨‰∫∫„ÅÆË¶™È°û„ÅåÁâ¢Â±ãÊï∑„Å∏Âëº„Å≥Âá∫„Åï„Çå„Å¶„ÄÅ„Åù„Åì„ÅßÊöá‰πû„ÅÑ„Çí„Åô„Çã„Åì„Å®„ÇíË®±„Åï„Çå„Åü„ÄÇ„Åù„Çå„Åã„ÇâÁΩ™‰∫∫„ÅØÈ´òÁÄ¨Ëàü„Å´‰πó„Åõ„Çâ„Çå„Å¶„ÄÅÂ§ßÈò™„Å∏Âõû„Åï„Çå„Çã„Åì„Å®„Åß„ÅÇ„Å£„Åü„ÄÇ„Åù„Çå„ÇíË≠∑ÈÄÅ„Åô„Çã„ÅÆ„ÅØ„ÄÅ‰∫¨ÈÉΩÁî∫Â•âË°å„ÅÆÈÖç‰∏ã„Å´„ÅÑ„ÇãÂêåÂøÉ„Åß„ÄÅ„Åì„ÅÆÂêåÂøÉ„ÅØÁΩ™‰∫∫„ÅÆË¶™È°û„ÅÆ‰∏≠„Åß„ÄÅ„Åä„ÇÇÁ´ã„Å£„Åü‰∏Ä‰∫∫„ÇíÂ§ßÈò™„Åæ„ÅßÂêåËàπ„Åï„Åõ„Çã„Åì„Å®„ÇíË®±„ÅôÊÖ£‰æã„Åß„ÅÇ„Å£„Åü„ÄÇ` },

            // == È´òÊ†°„Éª‰∏ÄËà¨ ==
            'sangetsuki': { title: 'Â±±ÊúàË®ò', text: `Èö¥Ë•ø„ÅÆÊùéÂæ¥„ÅØÂçöÂ≠¶ÊâçÁ©é„ÄÅÂ§©ÂÆù„ÅÆÊú´Âπ¥„ÄÅËã•„Åè„Åó„Å¶Âêç„ÇíËôéÊ¶ú„Å´ÈÄ£„Å≠„ÄÅË£ú„Åõ„Çâ„Çå„Å¶Ê±üÂçóÂ∞â„Å®„Å™„Å£„Åü„Åå„ÄÅÊÄß„ÄÅÁã∑‰ªã„ÄÅËá™„ÇâÊÅÉ„ÇÄ„Å®„Åì„ÇçÈ†ó„ÇãÂéö„Åè„ÄÅË≥§Âêè„Å´Áîò„Çì„Åö„Çã„ÇíÊΩî„Åó„Å®„Åó„Å™„Åã„Å£„Åü„ÄÇ„ÅÑ„Åè„Å∞„Åè„ÇÇ„Å™„ÅèÂÆò„ÇíÈÄÄ„ÅÑ„ÅüÂæå„ÅØ„ÄÅÊïÖÂ±±„ÄÅÁï•ÈôΩ„Å´Â∏∞Ëá•„Åó„ÄÅ‰∫∫„Å®‰∫§„ÇíÁµ∂„Å£„Å¶„ÄÅ„Å≤„Åü„Åô„ÇâË©©‰Ωú„Å´ËÄΩ„Å£„Åü„ÄÇ‰∏ãÂêè„Å®„Å™„Å£„Å¶Èï∑„ÅèËÜù„Çí‰øóÊÇ™„Å™Â§ßÂÆò„ÅÆÂâç„Å´Â±à„Åô„Çã„Çà„Çä„ÅØ„ÄÅË©©ÂÆ∂„Å®„Åó„Å¶„ÅÆÂêç„ÇíÊ≠ªÂæåÁôæÂπ¥„Å´ÈÅ∫„Åù„ÅÜ„Å®„Åó„Åü„ÅÆ„Åß„ÅÇ„Çã„ÄÇ` },
            'rashomon': { title: 'ÁæÖÁîüÈñÄ', text: `„ÅÇ„ÇãÊó•„ÅÆÊöÆÊñπ„ÅÆ‰∫ã„Åß„ÅÇ„Çã„ÄÇ‰∏Ä‰∫∫„ÅÆ‰∏ã‰∫∫„Åå„ÄÅÁæÖÁîüÈñÄ„ÅÆ‰∏ã„ÅßÈõ®„ÇÑ„Åø„ÇíÂæÖ„Å£„Å¶„ÅÑ„Åü„ÄÇÂ∫É„ÅÑÈñÄ„ÅÆ‰∏ã„Å´„ÅØ„ÄÅ„Åì„ÅÆÁî∑„ÅÆ„Åª„Åã„Å´Ë™∞„ÇÇ„ÅÑ„Å™„ÅÑ„ÄÇ„Åü„Å†„ÄÅÊâÄ„ÄÖ‰∏πÂ°ó„ÅÆÂâ•„Åí„Åü„ÄÅÂ§ß„Åç„Å™ÂÜÜÊü±„Å´„ÄÅËüãËüÄ„Åå‰∏ÄÂåπ„Å®„Åæ„Å£„Å¶„ÅÑ„Çã„ÄÇÁæÖÁîüÈñÄ„Åå„ÄÅÊú±ÈõÄÂ§ßË∑Ø„Å´„ÅÇ„Çã‰ª•‰∏ä„ÅØ„ÄÅ„Åì„ÅÆÁî∑„ÅÆ„Åª„Åã„Å´„ÇÇ„ÄÅÈõ®„ÇÑ„Åø„Çí„Åô„ÇãÂ∏ÇÂ•≥Á¨†„ÇÑÊèâÁÉèÂ∏ΩÂ≠ê„Åå„ÄÅ„ÇÇ„ÅÜ‰∫å‰∏â‰∫∫„ÅØ„ÅÇ„Çä„Åù„ÅÜ„Å™„ÇÇ„ÅÆ„Åß„ÅÇ„Çã„ÄÇ„Åù„Çå„Åå„ÄÅ„Åì„ÅÆÁî∑„ÅÆ„Åª„Åã„Å´„ÅØË™∞„ÇÇ„ÅÑ„Å™„ÅÑ„ÄÇ` },
            'kokoro': { title: '„Åì„Åì„Çç', text: `ÁßÅ„ÅØ„Åù„ÅÆ‰∫∫„ÇíÂ∏∏„Å´ÂÖàÁîü„Å®Âëº„Çì„Åß„ÅÑ„Åü„ÄÇ„Å†„Åã„Çâ„Åì„Åì„Åß„ÇÇ„Åü„Å†ÂÖàÁîü„Å®Êõ∏„Åè„Å†„Åë„ÅßÊú¨Âêç„ÅØÊâì„Å°Êòé„Åë„Å™„ÅÑ„ÄÇ„Åì„Çå„ÅØ‰∏ñÈñì„ÇíÊÜö„Åã„ÇãÈÅ†ÊÖÆ„Å®„ÅÑ„ÅÜ„Çà„Çä„ÇÇ„ÄÅ„Åù„ÅÆÊñπ„ÅåÁßÅ„Å´„Å®„Å£„Å¶Ëá™ÁÑ∂„Å†„Åã„Çâ„Åß„ÅÇ„Çã„ÄÇÁßÅ„ÅØ„Åù„ÅÆ‰∫∫„ÅÆË®òÊÜ∂„ÇíÂëº„Å≥Ëµ∑„Åô„Åî„Å®„Å´„ÄÅ„Åô„Åê„ÄåÂÖàÁîü„Äç„Å®„ÅÑ„ÅÑ„Åü„Åè„Å™„Çã„ÄÇÁ≠Ü„ÇíÂü∑„Å£„Å¶„ÇÇÂøÉÊåÅ„ÅØÂêå„Åò‰∫ã„Åß„ÅÇ„Çã„ÄÇ„Çà„Åù„Çà„Åù„Åó„ÅÑÈ†≠ÊñáÂ≠ó„Å™„Å©„ÅØ„Å®„Å¶„ÇÇ‰Ωø„ÅÜÊ∞ó„Å´„Å™„Çâ„Å™„ÅÑ„ÄÇÁßÅ„ÅåÂÖàÁîü„Å®Áü•„ÇäÂêà„ÅÑ„Å´„Å™„Å£„Åü„ÅÆ„ÅØÈéåÂÄâ„Åß„ÅÇ„Çã„ÄÇ` },
            'souseki': { title: 'ÂêæËº©„ÅØÁå´„Åß„ÅÇ„Çã', text: `ÂêæËº©„ÅØÁå´„Åß„ÅÇ„Çã„ÄÇÂêçÂâç„ÅØ„Åæ„Å†ÁÑ°„ÅÑ„ÄÇ„Å©„Åì„ÅßÁîü„Çå„Åü„Åã„Å®„Çì„Å®Ë¶ãÂΩì„Åå„Å§„Åã„Å¨„ÄÇ‰Ωï„Åß„ÇÇËñÑÊöó„ÅÑ„Åò„ÇÅ„Åò„ÇÅ„Åó„ÅüÊâÄ„Åß„Éã„É£„Éº„Éã„É£„ÉºÊ≥£„ÅÑ„Å¶„ÅÑ„Åü‰∫ã„Å†„Åë„ÅØË®òÊÜ∂„Åó„Å¶„ÅÑ„Çã„ÄÇÂêæËº©„ÅØ„Åì„Åì„ÅßÂßã„ÇÅ„Å¶‰∫∫Èñì„Å®„ÅÑ„ÅÜ„ÇÇ„ÅÆ„ÇíË¶ã„Åü„ÄÇ„Åó„Åã„ÇÇ„ÅÇ„Å®„ÅßËÅû„Åè„Å®„Åù„Çå„ÅØÊõ∏Áîü„Å®„ÅÑ„ÅÜ‰∫∫Èñì‰∏≠„Åß‰∏ÄÁï™Áç∞ÊÇ™„Å™Á®ÆÊóè„Åß„ÅÇ„Å£„Åü„Åù„ÅÜ„Å†„ÄÇ„Åì„ÅÆÊõ∏Áîü„Å®„ÅÑ„ÅÜ„ÅÆ„ÅØÊôÇ„ÄÖÊàë„ÄÖ„ÇíÊçï„Åà„Å¶ÁÖÆ„Å¶È£ü„ÅÜ„Å®„ÅÑ„ÅÜË©±„Åß„ÅÇ„Çã„ÄÇ` }
        };

        // --- Core Logic ---
        function processText(text, size = 1) {
            if (!text) return ["No Content"];
            const isJapanese = text.match(/[\u3040-\u30ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff\uff66-\uff9f]/);
            let segments = [];
            if (isJapanese && Intl.Segmenter) {
                const segmenter = new Intl.Segmenter('ja', { granularity: 'word' });
                segments = [...segmenter.segment(text)].map(s => s.segment).filter(s => s.trim().length > 0 || s === "„ÄÇ" || s === "„ÄÅ"); 
            } else {
                segments = text.trim().split(/\s+/);
            }
            let chunks = [];
            for (let i = 0; i < segments.length; i += size) {
                chunks.push(segments.slice(i, i + size).join(''));
            }
            return chunks;
        }

        function renderWord(word) {
            const display = document.getElementById('reader-display');
            if (!word) return;
            const len = word.length;
            const mid = Math.floor(len / 2);
            if (len <= 1) {
                display.innerHTML = `<span class="orp-char">${word}</span>`;
            } else {
                display.innerHTML = `${word.slice(0, mid)}<span class="orp-char">${word.charAt(mid)}</span>${word.slice(mid + 1)}`;
            }
        }

        function toggleReader() { isPlaying ? pauseReader() : startReader(); }

        function startReader() {
            if (contentWords.length === 0) return;
            if (currentIndex >= contentWords.length) currentIndex = 0;
            isPlaying = true;
            updatePlayButtonUI(true);
            const interval = 60000 / wpm; // 60s * 1000ms / WPM
            renderWord(contentWords[currentIndex]);
            timer = setInterval(() => {
                currentIndex++;
                if (currentIndex >= contentWords.length) {
                    pauseReader();
                    currentIndex = 0;
                    updateProgress();
                    return;
                }
                renderWord(contentWords[currentIndex]);
                updateProgress();
            }, interval);
        }

        function pauseReader() { clearInterval(timer); isPlaying = false; updatePlayButtonUI(false); }
        function resetReader() { pauseReader(); currentIndex = 0; updateProgress(); renderWord(contentWords[0]); }
        function stepBack() { pauseReader(); currentIndex = Math.max(0, currentIndex - 10); updateProgress(); renderWord(contentWords[currentIndex]); }
        function updateProgress() { document.getElementById('progress-bar').style.width = `${((currentIndex + 1) / contentWords.length) * 100}%`; }

        function updatePlayButtonUI(playing) {
            const btn = document.getElementById('main-play-btn');
            if (playing) {
                btn.innerHTML = '<span class="material-symbols-rounded text-4xl">pause</span> PAUSE';
                btn.classList.add('bg-slate-700', 'border-slate-600');
                btn.classList.remove('bg-teal-600', 'hover:bg-teal-500', 'border-teal-500/50');
            } else {
                btn.innerHTML = '<span class="material-symbols-rounded text-4xl">play_arrow</span> START';
                btn.classList.remove('bg-slate-700', 'border-slate-600');
                btn.classList.add('bg-teal-600', 'hover:bg-teal-500', 'border-teal-500/50');
            }
        }

        function prepareReader(source, key = null) {
            let text = "";
            let title = "";
            if (source === 'custom') {
                text = document.getElementById('custom-text').value;
                title = "Ëá™Áî±ÂÖ•Âäõ";
            } else if (source === 'library') {
                const lib = libraries[key];
                text = lib.text;
                title = lib.title;
            }
            if (!text) { alert("„ÉÜ„Ç≠„Çπ„Éà„ÇíÂÖ•Âäõ„Åæ„Åü„ÅØÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ"); return; }
            contentWords = processText(text, chunkSize);
            currentIndex = 0;
            currentTitle = title;
            resetReader();
            const badge = document.getElementById('source-badge');
            badge.innerText = title;
            badge.classList.remove('opacity-0');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function loadLibrary(key, recommendedSpeed) {
            prepareReader('library', key);
            if (recommendedSpeed) {
                wpm = recommendedSpeed;
                document.getElementById('wpm-slider').value = wpm;
                document.getElementById('wpm-display').innerText = wpm;
                document.getElementById('wpm-badge').innerText = `WPM: ${wpm}`;
            }
        }

        function updateSettings() {
            wpm = parseInt(document.getElementById('wpm-slider').value);
            document.getElementById('wpm-display').innerText = wpm;
            document.getElementById('wpm-badge').innerText = `WPM: ${wpm}`;
            if (isPlaying) { clearInterval(timer); startReader(); }
        }

        function setChunkSize(size) {
            chunkSize = size;
            document.getElementById('chunk-badge').innerText = `${size}ÂçòË™û`;
            document.querySelectorAll('.chunk-btn').forEach(b => {
                b.className = b.className.replace('bg-teal-600 text-white border-teal-600', 'bg-white text-slate-600 border-slate-200');
            });
            event.target.className = event.target.className.replace('bg-white text-slate-600 border-slate-200', 'bg-teal-600 text-white border-teal-600');
            if (currentTitle === "Ëá™Áî±ÂÖ•Âäõ" && document.getElementById('custom-text').value) {
                prepareReader('custom');
            } else if (currentTitle && currentTitle !== "Ëá™Áî±ÂÖ•Âäõ") {
                 for (const [key, val] of Object.entries(libraries)) {
                     if (val.title === currentTitle) { prepareReader('library', key); break; }
                 }
            }
        }

        // --- Tab Logic ---
        function switchMainTab(tabId) {
            ['input', 'library', 'settings'].forEach(id => {
                const content = document.getElementById(`content-${id}`);
                const btn = document.getElementById(`tab-${id}`);
                if (id === tabId) {
                    content.classList.remove('hidden');
                    content.classList.add('block');
                    btn.classList.add('tab-active');
                    btn.classList.remove('bg-white', 'text-slate-600');
                } else {
                    content.classList.add('hidden');
                    content.classList.remove('block');
                    btn.classList.remove('tab-active');
                    btn.classList.add('bg-white', 'text-slate-600');
                }
            });
        }

        function switchLibCategory(catId) {
            ['low-elem', 'high-elem', 'junior', 'high'].forEach(id => {
                const content = document.getElementById(`lib-cat-${id}`);
                const btn = document.getElementById(`cat-btn-${id}`);
                
                if (id === catId) {
                    content.classList.remove('hidden');
                    content.classList.add('block');
                    // Style Active
                    btn.classList.add('cat-tab-active', 'ring-2', 'ring-offset-1');
                    btn.classList.remove('border-slate-200', 'text-slate-500', 'bg-white');
                    // Add specific border colors for visual flair based on id
                    if(id === 'low-elem') { btn.classList.add('border-pink-200', 'bg-pink-50', 'text-pink-700', 'ring-pink-300'); btn.classList.remove('cat-tab-active'); }
                    if(id === 'high-elem') { btn.classList.add('border-orange-200', 'bg-orange-50', 'text-orange-700', 'ring-orange-300'); btn.classList.remove('cat-tab-active'); }
                    if(id === 'junior') { btn.classList.add('border-teal-200', 'bg-teal-50', 'text-teal-700', 'ring-teal-300'); btn.classList.remove('cat-tab-active'); }
                    if(id === 'high') { btn.classList.add('border-indigo-200', 'bg-indigo-50', 'text-indigo-700', 'ring-indigo-300'); btn.classList.remove('cat-tab-active'); }
                } else {
                    content.classList.add('hidden');
                    content.classList.remove('block');
                    // Reset Style
                    btn.classList.add('border-slate-200', 'text-slate-500', 'bg-white');
                    btn.classList.remove('cat-tab-active', 'ring-2', 'ring-offset-1', 
                        'border-pink-200', 'bg-pink-50', 'text-pink-700', 'ring-pink-300',
                        'border-orange-200', 'bg-orange-50', 'text-orange-700', 'ring-orange-300',
                        'border-teal-200', 'bg-teal-50', 'text-teal-700', 'ring-teal-300',
                        'border-indigo-200', 'bg-indigo-50', 'text-indigo-700', 'ring-indigo-300'
                    );
                }
            });
        }

        function downloadApp() {
            const blob = new Blob([document.documentElement.outerHTML], {type: 'text/html'});
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = 'KawaiiSpeedReader_Full.html';
            a.click();
        }
    </script>

</body></html>